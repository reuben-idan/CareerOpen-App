import{j as e,p as g,i as C,k as L,r as $,s as A,t as U,v as D,w as I,x as S,u as T,y as M}from"./vendor-B42s3pmA.js";import{useState as d,useEffect as N,useCallback as O}from"react";import{u as p,a as H,b as z,L as B}from"./index-DEXg1UWV.js";import{P as G,S as _,E as q,a as J,A as K,b as Q}from"./glassmorphism-CvzaOKEC.js";import"./NotificationFilter-CHiOR7nX.js";import"react-dom";import"./ImageUpload-CosFNtmR.js";const V=({profile:s,onEdit:c})=>{var n,o,l;const{user:i}=p(),a=(i==null?void 0:i.uid)===s.id;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-primary-500 to-primary-600",children:[s.coverPhoto?e.jsx("img",{src:s.coverPhoto,alt:"Cover",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(g,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm opacity-75",children:"No cover photo"})]})}),a&&e.jsx("button",{onClick:()=>c&&c(),className:"absolute top-2 right-2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",title:"Edit cover photo",children:e.jsx(g,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative -mt-16 group",children:[e.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden shadow-lg",children:s.photoURL?e.jsx("img",{src:s.photoURL,alt:s.displayName,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(C,{className:"h-16 w-16 text-gray-400"})})}),a&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(g,{className:"h-6 w-6 mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"Change Photo"})]})})]}),e.jsxs("div",{className:"pt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.displayName||s.name||"User"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:s.headline||s.title||"Professional"})]})]}),a&&e.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.location&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx($,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("span",{children:s.location})]}),s.email&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(A,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(U,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:`tel:${s.phone}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.phone})]}),s.website&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(D,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.website})]})]}),s.about&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:s.about})]}),((n=s.experience)==null?void 0:n.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Experience"}),e.jsx("div",{className:"space-y-4",children:s.experience.map((t,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(I,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.company}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.startDate," - ",t.endDate||"Present"]}),t.description&&e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:t.description})]})]},r))})]}),((o=s.education)==null?void 0:o.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Education"}),e.jsx("div",{className:"space-y-4",children:s.education.map((t,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(S,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.degree}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.school}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.startDate," - ",t.endDate||"Present"]}),t.description&&e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:t.description})]})]},r))})]}),((l=s.skills)==null?void 0:l.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((t,r)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:typeof t=="string"?t:t.name},r))})]})]})]})},ae=()=>{const{userId:s}=T(),c=M(),{user:i}=p(),{profile:a,fetchProfileById:n,updateProfile:o}=H(),{showToast:l}=z(),[t,r]=d(!1),[y,m]=d(!1),[b,u]=d(!0),[j,f]=d(null),[v,w]=d([]);N(()=>(r(!0),()=>r(!1)),[]);const x=O(async()=>{if(!(!t||!s)){u(!0),f(null);try{await n(s),a!=null&&a.activities&&Array.isArray(a.activities)&&w(a.activities)}catch(h){f(h.message),l("Error loading profile","error")}finally{u(!1)}}},[t,s,n,a==null?void 0:a.activities,l]);N(()=>{x()},[x]);const k=()=>{m(!0)},P=()=>{m(!1)},E=async h=>{try{await o(h),l("Profile updated successfully","success"),m(!1),await x()}catch(R){throw l("Failed to update profile","error"),R}};if(b)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(B,{size:"lg"})});if(j)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:j}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Try Again"})]});if(!a)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The profile you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>c("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Go Home"})]});const F=(i==null?void 0:i.uid)===s;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(G,{profile:a,isOwnProfile:F,onEdit:k}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(V,{profile:a}),e.jsx(_,{skills:a.skills||[]}),e.jsx(q,{experience:a.experience||[]}),e.jsx(J,{education:a.education||[]})]}),e.jsx("div",{className:"space-y-8",children:e.jsx(K,{activities:v})})]}),y&&e.jsx(Q,{isOpen:y,onClose:P,profile:a,onUpdate:E})]})};export{ae as default};
//# sourceMappingURL=ProfilePage-C8vzTMf1.js.map
