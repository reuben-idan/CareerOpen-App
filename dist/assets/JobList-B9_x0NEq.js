import{j as e,a,e as r,L as t}from"./index-C0ISbAl6.js";import{r as l}from"./react-vendor-Blpmel2Z.js";import{d as s}from"./router-wWB8CCN9.js";import{j as i}from"./jobService-BkGZEzDV.js";import{J as o}from"./JobCard-Djlr5vl2.js";import{J as n}from"./JobSearch-C56-4m7c.js";import{S as d}from"./Sidebar-CWqTlwIE.js";import"./utils-CE5H4mLI.js";import{d as c}from"./EmployerLogos-DFBkoq69.js";import"./NotificationFilter-D7DGd0Wv.js";import{G as m}from"./GlassCard-DDQOptUC.js";import{F as h}from"./FunnelIcon-B05w5lZ5.js";import"./ui-components-Cj_Nz0sg.js";import"./MapPinIcon-zv-1fgIR.js";import"./BriefcaseIcon-D3vL11TR.js";import"./ClockIcon-D6KXJook.js";import"./BookmarkIcon-D7jdfNFE.js";import"./BookmarkIcon-BcwDfmGc.js";import"./MagnifyingGlassIcon-U1x5WafG.js";import"./SparklesIcon-B0d4700B.js";import"./DocumentTextIcon-8uue8MYA.js";import"./UserGroupIcon-DwmoUpI7.js";import"./ChevronRightIcon-yrNv7oIn.js";import"./ShareIcon-BLHX_IHz.js";import"./UserPlusIcon-D1VRgE0K.js";import"./ImageUpload-CGn2NtHS.js";const g=()=>{const[g,u]=l.useState({results:[],count:0}),[p,b]=l.useState(!0),[x,y]=l.useState(null),[f,N]=s(),[v,k]=l.useState(!1),[w,j]=l.useState({search:f.get("search")||"",location:f.get("location")||"",job_type:f.get("job_type")||"",company:f.get("company")||"",min_salary:f.get("min_salary")||"",max_salary:f.get("max_salary")||"",is_remote:"true"===f.get("is_remote")||!1,skills:f.get("skills")||"",ordering:f.get("ordering")||"-created_at",page:parseInt(f.get("page")||"1"),page_size:10});l.useEffect(()=>{(async()=>{try{b(!0),y(null);const e=new URLSearchParams;Object.entries(w).forEach(([a,r])=>{""!==r&&!1!==r&&e.append(a,r)}),N(e);const a=await i.searchJobs(e.toString());u(a.data)}catch(e){console.error("Error fetching jobs",e),y("Failed to load jobs. Please try again later.")}finally{b(!1)}})()},[w,N]);const _=e=>{const{name:a,value:r,type:t,checked:l}=e.target;j(e=>({...e,[a]:"checkbox"===t?l:r,page:1}))},C=e=>{j(a=>({...a,page:e})),window.scrollTo(0,0)},S=()=>{j({search:"",location:"",job_type:"",company:"",min_salary:"",max_salary:"",is_remote:!1,skills:"",ordering:"-created_at",page:1,page_size:10})},I=Object.entries(w).some(([e,a])=>a&&!["page","page_size","ordering"].includes(e)&&a!==("is_remote"!==e&&""));return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex",children:[a(d,{}),a("div",{className:"flex-1 ml-0 md:ml-64",children:e("div",{className:"container mx-auto px-4 py-8",children:[a("div",{className:"mb-8",children:a("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:e("div",{className:"flex-1",children:[a("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Find Your Dream Job"}),e("p",{className:"text-lg text-gray-600",children:["Browse through ",g.count||0," job listings and find the perfect match for your skills"]})]})})}),a("div",{className:"mb-8",children:e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:[a("div",{className:"mb-6",children:a(n,{initialQuery:w.search,onSearch:e=>{j(a=>({...a,search:e,page:1}))}})}),e("div",{className:"flex justify-between items-center mb-6",children:[a("h2",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Filters"}),e("button",{onClick:()=>k(!v),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[a(h,{className:"h-5 w-5"}),v?"Hide Filters":"Show Filters"]})]}),v&&e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e("div",{children:[a("label",{htmlFor:"job_type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),e("select",{id:"job_type",name:"job_type",value:w.job_type,onChange:_,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[a("option",{value:"",children:"All Types"}),a("option",{value:"full_time",children:"Full Time"}),a("option",{value:"part_time",children:"Part Time"}),a("option",{value:"contract",children:"Contract"}),a("option",{value:"internship",children:"Internship"}),a("option",{value:"temporary",children:"Temporary"})]})]}),e("div",{children:[a("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),a("input",{type:"text",id:"location",name:"location",value:w.location,onChange:_,placeholder:"City, State, or Remote",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary Range"}),e("div",{className:"flex gap-2",children:[a("input",{type:"number",id:"min_salary",name:"min_salary",value:w.min_salary,onChange:_,placeholder:"Min",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),a("input",{type:"number",id:"max_salary",name:"max_salary",value:w.max_salary,onChange:_,placeholder:"Max",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),a("div",{className:"flex items-end",children:e("div",{className:"flex items-center",children:[a("input",{id:"is_remote",name:"is_remote",type:"checkbox",checked:w.is_remote,onChange:_,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"}),a("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]})})]}),I&&e("div",{className:"flex flex-wrap gap-2 mb-4",children:[Object.entries(w).map(([t,l])=>{if(!l||"page"===t||"page_size"===t||"ordering"===t)return null;if("is_remote"===t&&!l)return null;let s=l;return"is_remote"===t&&(s="Remote"),"job_type"===t&&(s=l.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")),e("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:[t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),": ",s,a("button",{onClick:()=>{j(e=>({...e,[t]:"is_remote"!==t&&"",page:1}))},className:"ml-2 text-blue-500 hover:text-blue-700",children:a(r,{className:"h-3 w-3"})})]},t)}),a("button",{onClick:S,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Clear all filters"})]})]})}),a("div",{className:"mb-8",children:p?a("div",{className:"flex justify-center items-center h-64",children:a(t,{size:"lg"})}):x?e("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center",children:[a("p",{className:"text-red-700 dark:text-red-300",children:x}),a("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})]}):g.results&&g.results.length>0?e("div",{className:"space-y-4",children:[e("div",{className:"flex justify-between items-center mb-4",children:[e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",a("span",{className:"font-medium",children:(w.page-1)*w.page_size+1})," to"," ",a("span",{className:"font-medium",children:Math.min(w.page*w.page_size,g.count)})," ","of ",a("span",{className:"font-medium",children:g.count})," jobs"]}),e("div",{className:"flex items-center",children:[a("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),e("select",{id:"sort",name:"ordering",value:w.ordering,onChange:_,className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[a("option",{value:"-created_at",children:"Newest"}),a("option",{value:"created_at",children:"Oldest"}),a("option",{value:"-salary_max",children:"Salary: High to Low"}),a("option",{value:"salary_min",children:"Salary: Low to High"}),a("option",{value:"title",children:"Title: A-Z"}),a("option",{value:"-title",children:"Title: Z-A"})]})]})]}),a("div",{className:"space-y-4",children:g.results.map(e=>a(o,{job:e,onSave:null,isSaved:!1},e.id))}),g.count>w.page_size&&a("div",{className:"flex justify-center mt-8",children:e("nav",{className:"flex items-center gap-2","aria-label":"Pagination",children:[a("button",{onClick:()=>C(Math.max(1,w.page-1)),disabled:1===w.page,className:"px-3 py-1 rounded-md "+(1===w.page?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"),children:"Previous"}),Array.from({length:Math.ceil(g.count/w.page_size)},(e,a)=>a+1).filter(e=>1===e||e===w.page||e===w.page-1||e===w.page+1||e===Math.ceil(g.count/w.page_size)).map((e,r,t)=>r>0&&t[r-1]!==e-1?a("span",{className:"px-3 py-1",children:"..."},`ellipsis-${e}`):a("button",{onClick:()=>C(e),className:"px-3 py-1 rounded-md "+(w.page===e?"bg-blue-600 text-white":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"),children:e},e)),a("button",{onClick:()=>C(Math.min(Math.ceil(g.count/w.page_size),w.page+1)),disabled:w.page>=Math.ceil(g.count/w.page_size),className:"px-3 py-1 rounded-md "+(w.page>=Math.ceil(g.count/w.page_size)?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"),children:"Next"})]})})]}):e("div",{className:"text-center py-12",children:[a("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),a("p",{className:"text-gray-500 dark:text-gray-400",children:I?"Try adjusting your search or filter criteria.":"There are currently no job listings available. Please check back later."}),I&&a("button",{onClick:S,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Clear all filters"})]})}),e("div",{className:"mb-12",children:[a("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Featured Companies"}),a("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:a(c,{})})]}),e("div",{className:"mb-12",children:[a("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"What Our Users Say"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e(m,{className:"p-6",children:[e("div",{className:"flex items-center mb-4",children:[a("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:"JD"}),e("div",{className:"ml-4",children:[a("h4",{className:"font-medium text-gray-900 dark:text-white",children:"John Doe"}),a("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Senior Developer"})]})]}),a("p",{className:"text-gray-600 dark:text-gray-300",children:'"Found my dream job within a week of using CareerOpen. The application process was seamless!"'})]}),e(m,{className:"p-6",children:[e("div",{className:"flex items-center mb-4",children:[a("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold text-xl",children:"AS"}),e("div",{className:"ml-4",children:[a("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Alex Smith"}),a("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Product Manager"})]})]}),a("p",{className:"text-gray-600 dark:text-gray-300",children:'"The job matching algorithm is spot on. I received offers that perfectly matched my skills and experience."'})]}),e(m,{className:"p-6",children:[e("div",{className:"flex items-center mb-4",children:[a("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-xl",children:"MJ"}),e("div",{className:"ml-4",children:[a("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Maria Johnson"}),a("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"UX Designer"})]})]}),a("p",{className:"text-gray-600 dark:text-gray-300",children:'"The application tracking system is a game-changer. I could easily keep track of all my applications in one place."'})]})]})]}),e("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 md:p-12 text-center text-white",children:[a("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to find your next opportunity?"}),a("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Join thousands of professionals who found their dream jobs through CareerOpen"}),e("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a("button",{className:"px-6 py-3 bg-white text-blue-700 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:"Browse Jobs"}),a("button",{className:"px-6 py-3 border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors",children:"Create Profile"})]})]})]})})]})};export{g as default};
//# sourceMappingURL=JobList-B9_x0NEq.js.map
