import{u as e,j as t,F as s,a as r,b as a,L as i}from"./index-CN3ue1mT.js";import{r as l}from"./react-vendor-DmTOEE88.js";import{F as o,a as c,b as n,P as d,S as m,E as x,c as h,A as g,d as p}from"./MessageInput-Kmo57Pg1.js";import{F as u}from"./ImageUpload-aoTD05uF.js";import{F as f}from"./NotificationFilter-BOC2A7f-.js";import{F as j}from"./MapPinIcon-DPNjlSXd.js";import"./index.es-HteGwPol.js";import"./utils-B-PbHBFk.js";import{c as y,u as v}from"./router-D2fOdiwT.js";import"./firebase-core-BD-oOiUn.js";import"./firebase-db-DLp_UO3Q.js";import"./ui-components-UtJZRBRj.js";import"./ShareIcon-ZVLYg8Rz.js";import"./CalendarIcon-DUGA9gtf.js";function b({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const N=l.forwardRef(b);function w({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const k=l.forwardRef(w),E=({profile:r,onEdit:a})=>{var i,l,d;const{user:m}=e(),x=(null==m?void 0:m.uid)===r.id;return t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[t.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-primary-500 to-primary-600",children:[r.coverPhoto?t.jsx("img",{src:r.coverPhoto,alt:"Cover",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx(u,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm opacity-75",children:"No cover photo"})]})}),x&&t.jsx("button",{onClick:()=>a&&a(),className:"absolute top-2 right-2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",title:"Edit cover photo",children:t.jsx(u,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"px-6 py-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"relative -mt-16 group",children:[t.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden shadow-lg",children:r.photoURL?t.jsx("img",{src:r.photoURL,alt:r.displayName,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:t.jsx(f,{className:"h-16 w-16 text-gray-400"})})}),x&&t.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer",children:t.jsxs("div",{className:"text-center text-white",children:[t.jsx(u,{className:"h-6 w-6 mx-auto mb-1"}),t.jsx("span",{className:"text-xs",children:"Change Photo"})]})})]}),t.jsxs("div",{className:"pt-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.displayName||r.name||"User"}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:r.headline||r.title||"Professional"})]})]}),x&&t.jsxs("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[t.jsx(o,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.location&&t.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[t.jsx(j,{className:"h-5 w-5 mr-2 text-gray-400"}),t.jsx("span",{children:r.location})]}),r.email&&t.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[t.jsx(N,{className:"h-5 w-5 mr-2 text-gray-400"}),t.jsx("a",{href:`mailto:${r.email}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:r.email})]}),r.phone&&t.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[t.jsx(c,{className:"h-5 w-5 mr-2 text-gray-400"}),t.jsx("a",{href:`tel:${r.phone}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:r.phone})]}),r.website&&t.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[t.jsx(k,{className:"h-5 w-5 mr-2 text-gray-400"}),t.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:r.website})]})]}),r.about&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:r.about})]}),(null==(i=r.experience)?void 0:i.length)>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Experience"}),t.jsx("div",{className:"space-y-4",children:r.experience.map((e,r)=>t.jsxs("div",{className:"flex items-start",children:[t.jsx(s,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.company}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.startDate," - ",e.endDate||"Present"]}),e.description&&t.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:e.description})]})]},r))})]}),(null==(l=r.education)?void 0:l.length)>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Education"}),t.jsx("div",{className:"space-y-4",children:r.education.map((e,s)=>t.jsxs("div",{className:"flex items-start",children:[t.jsx(n,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.degree}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.school}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.startDate," - ",e.endDate||"Present"]}),e.description&&t.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:e.description})]})]},s))})]}),(null==(d=r.skills)?void 0:d.length)>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Skills"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((e,s)=>t.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:"string"==typeof e?e:e.name},s))})]})]})]})},P=()=>{const{userId:s}=y(),o=v(),{user:c}=e(),{profile:n,fetchProfileById:u,updateProfile:f}=r(),{showToast:j}=a(),[b,N]=l.useState(!1),[w,k]=l.useState(!1),[P,C]=l.useState(!0),[A,S]=l.useState(null),[I,L]=l.useState([]);l.useEffect(()=>(N(!0),()=>N(!1)),[]);const F=l.useCallback(async()=>{if(b&&s){C(!0),S(null);try{await u(s),(null==n?void 0:n.activities)&&Array.isArray(n.activities)&&L(n.activities)}catch(e){S(e.message),j("Error loading profile","error")}finally{C(!1)}}},[b,s,u,null==n?void 0:n.activities,j]);l.useEffect(()=>{F()},[F]);if(P)return t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx(i,{size:"lg"})});if(A)return t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:A}),t.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Try Again"})]});if(!n)return t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The profile you're looking for doesn't exist or has been removed."}),t.jsx("button",{onClick:()=>o("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Go Home"})]});const M=(null==c?void 0:c.uid)===s;return t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx(d,{profile:n,isOwnProfile:M,onEdit:()=>{k(!0)}}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsx(E,{profile:n}),t.jsx(m,{skills:n.skills||[]}),t.jsx(x,{experience:n.experience||[]}),t.jsx(h,{education:n.education||[]})]}),t.jsx("div",{className:"space-y-8",children:t.jsx(g,{activities:I})})]}),w&&t.jsx(p,{isOpen:w,onClose:()=>{k(!1)},profile:n,onUpdate:async e=>{try{await f(e),j("Profile updated successfully","success"),k(!1),await F()}catch(t){throw j("Failed to update profile","error"),t}}})]})};export{P as default};
//# sourceMappingURL=ProfilePage-CNVsyvwB.js.map
