import{o as a,m as e,J as y,A as C,B as $,K as A,L as U,M as S,S as D,T as I,U as T,z as M,V as O}from"./vendor-D-WVJ8WC.js";import{useState as o,useEffect as b,useCallback as z}from"react";import{u as v,a as B,b as H,L as G}from"./index-DalgjJJ3.js";import{P as J,S as K,E as V,a as _,A as q,b as Q}from"./EmployerLogos-ILy6jTDc.js";import"./NotificationFilter-CakF1gcr.js";import"react-dom";import"./ImageUpload-CKrwd3VP.js";import"./vendor-mui-8FEJgfkm.js";const W=({profile:t,onEdit:n})=>{var d,m,c;const{user:l}=v(),s=(l==null?void 0:l.uid)===t.id;return a("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[a("div",{className:"relative h-32 bg-gradient-to-r from-primary-500 to-primary-600",children:[t.coverPhoto?e("img",{src:t.coverPhoto,alt:"Cover",className:"w-full h-full object-cover"}):e("div",{className:"w-full h-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:a("div",{className:"text-center text-white",children:[e(y,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e("p",{className:"text-sm opacity-75",children:"No cover photo"})]})}),s&&e("button",{onClick:()=>n&&n(),className:"absolute top-2 right-2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",title:"Edit cover photo",children:e(y,{className:"h-4 w-4"})})]}),a("div",{className:"px-6 py-4",children:[a("div",{className:"flex items-start justify-between",children:[a("div",{className:"flex items-center space-x-4",children:[a("div",{className:"relative -mt-16 group",children:[e("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden shadow-lg",children:t.photoURL?e("img",{src:t.photoURL,alt:t.displayName,className:"h-full w-full object-cover"}):e("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:e(C,{className:"h-16 w-16 text-gray-400"})})}),s&&e("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer",children:a("div",{className:"text-center text-white",children:[e(y,{className:"h-6 w-6 mx-auto mb-1"}),e("span",{className:"text-xs",children:"Change Photo"})]})})]}),a("div",{className:"pt-16",children:[e("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.displayName||t.name||"User"}),e("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:t.headline||t.title||"Professional"})]})]}),s&&a("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[e($,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),a("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.location&&a("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e(A,{className:"h-5 w-5 mr-2 text-gray-400"}),e("span",{children:t.location})]}),t.email&&a("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e(U,{className:"h-5 w-5 mr-2 text-gray-400"}),e("a",{href:`mailto:${t.email}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.email})]}),t.phone&&a("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e(S,{className:"h-5 w-5 mr-2 text-gray-400"}),e("a",{href:`tel:${t.phone}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.phone})]}),t.website&&a("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e(D,{className:"h-5 w-5 mr-2 text-gray-400"}),e("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.website})]})]}),t.about&&a("div",{className:"mt-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),e("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:t.about})]}),((d=t.experience)==null?void 0:d.length)>0&&a("div",{className:"mt-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Experience"}),e("div",{className:"space-y-4",children:t.experience.map((r,i)=>a("div",{className:"flex items-start",children:[e(I,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),a("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:r.title}),e("p",{className:"text-gray-600 dark:text-gray-300",children:r.company}),a("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.startDate," - ",r.endDate||"Present"]}),r.description&&e("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:r.description})]})]},i))})]}),((m=t.education)==null?void 0:m.length)>0&&a("div",{className:"mt-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Education"}),e("div",{className:"space-y-4",children:t.education.map((r,i)=>a("div",{className:"flex items-start",children:[e(T,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),a("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:r.degree}),e("p",{className:"text-gray-600 dark:text-gray-300",children:r.school}),a("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.startDate," - ",r.endDate||"Present"]}),r.description&&e("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:r.description})]})]},i))})]}),((c=t.skills)==null?void 0:c.length)>0&&a("div",{className:"mt-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Skills"}),e("div",{className:"flex flex-wrap gap-2",children:t.skills.map((r,i)=>e("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:typeof r=="string"?r:r.name},i))})]})]})]})},ie=()=>{const{userId:t}=M(),n=O(),{user:l}=v(),{profile:s,fetchProfileById:d,updateProfile:m}=B(),{showToast:c}=H(),[r,i]=o(!1),[u,g]=o(!1),[w,f]=o(!0),[N,p]=o(null),[k,P]=o([]);b(()=>(i(!0),()=>i(!1)),[]);const h=z(async()=>{if(!(!r||!t)){f(!0),p(null);try{await d(t),s!=null&&s.activities&&Array.isArray(s.activities)&&P(s.activities)}catch(x){p(x.message),c("Error loading profile","error")}finally{f(!1)}}},[r,t,d,s==null?void 0:s.activities,c]);b(()=>{h()},[h]);const E=()=>{g(!0)},F=()=>{g(!1)},j=async x=>{try{await m(x),c("Profile updated successfully","success"),g(!1),await h()}catch(R){throw c("Failed to update profile","error"),R}};if(w)return e("div",{className:"flex items-center justify-center min-h-screen",children:e(G,{size:"lg"})});if(N)return a("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:N}),e("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Try Again"})]});if(!s)return a("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The profile you're looking for doesn't exist or has been removed."}),e("button",{onClick:()=>n("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Go Home"})]});const L=(l==null?void 0:l.uid)===t;return a("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e(J,{profile:s,isOwnProfile:L,onEdit:E}),a("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a("div",{className:"lg:col-span-2 space-y-8",children:[e(W,{profile:s}),e(K,{skills:s.skills||[]}),e(V,{experience:s.experience||[]}),e(_,{education:s.education||[]})]}),e("div",{className:"space-y-8",children:e(q,{activities:k})})]}),u&&e(Q,{isOpen:u,onClose:F,profile:s,onUpdate:j})]})};export{ie as default};
//# sourceMappingURL=ProfilePage-CFrqh2mP.js.map
