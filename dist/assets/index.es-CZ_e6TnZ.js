import{a as e,r as n}from"./react-vendor-Dw2mMYsl.js";var t=[];function r(e){var r=function(){var e="https://js.paystack.co/v1/inline.js",r=n.useState({loaded:!1,error:!1}),o=r[0],a=r[1];return n.useEffect((function(){if(!t.includes(e)){t.push(e);var n=document.createElement("script");n.src=e,n.async=!0;var r=function(){a({loaded:!0,error:!1})},o=function(){var r=t.indexOf(e);r>=0&&t.splice(r,1),n.remove(),a({loaded:!0,error:!0})};return n.addEventListener("load",r),n.addEventListener("complete",r),n.addEventListener("error",o),document.body.appendChild(n),function(){n.removeEventListener("load",r),n.removeEventListener("error",o)}}a({loaded:!0,error:!1})}),[e]),[o.loaded,o.error]}(),o=r[0],a=r[1],c=e.publicKey,i=e.firstname,l=e.lastname,s=e.phone,u=e.email,d=e.amount,f=e.reference,p=e.metadata,v=void 0===p?{}:p,m=e.currency,y=void 0===m?"NGN":m,b=e.channels,h=e.label,C=void 0===h?"":h,E=e.plan,P=void 0===E?"":E,w=e.quantity,O=void 0===w?"":w,S=e.subaccount,j=void 0===S?"":S,k=e.transaction_charge,x=void 0===k?0:k,g=e.bearer,L=void 0===g?"account":g,N=e.split,z=e.split_code;return n.useEffect((function(){if(a)throw new Error("Unable to load paystack inline script")}),[a]),function(n,t){if(a)throw new Error("Unable to load paystack inline script");o&&function(e){var n=window.PaystackPop&&window.PaystackPop.setup(e);n&&n.openIframe()}({callback:n||function(){return null},onClose:t||function(){return null},key:c,ref:f,email:u,firstname:i,lastname:l,phone:s,amount:d,currency:y,plan:P,quantity:O,"data-custom-button":e["data-custom-button"]||"",channels:b,subaccount:j,transaction_charge:x,bearer:L,label:C,metadata:v,split:N,split_code:z})}}var o=function(){return o=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},o.apply(this,arguments)};function a(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}var c=function(n){var t=n.text,o=n.className,c=n.children,i=n.onSuccess,l=n.onClose,s=r(a(n,["text","className","children","onSuccess","onClose"]));return e.createElement("button",{className:o,onClick:function(){return s(i,l)}},t||c)},i=n.createContext({initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),l=function(n){var t=n.children,o=n.onSuccess,c=n.onClose,l=r(a(n,["children","onSuccess","onClose"]));return e.createElement(i.Provider,{value:{initializePayment:l,onSuccess:o,onClose:c}},t)},s=function(e){var t=e.children,r=e.ref,o=n.useContext(i),a=o.initializePayment,c=o.onSuccess,l=o.onClose;return t({initializePayment:function(){return a(c,l)},ref:r})};n.forwardRef((function(n,t){var r=n.children,c=n.onSuccess,i=n.onClose,u=a(n,["children","onSuccess","onClose"]),d=c||function(){return null},f=i||function(){return null};return e.createElement(l,o({},u,{onSuccess:d,onClose:f}),e.createElement(s,{ref:t},r))}));export{c as P};
//# sourceMappingURL=index.es-CZ_e6TnZ.js.map
