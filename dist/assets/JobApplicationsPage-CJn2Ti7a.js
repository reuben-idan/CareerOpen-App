import{r as l,u as F,j as e,L as R,N as x,J as m,k as L}from"./index-CAXHRMTp.js";import{j as $}from"./jobService-DXZpNyIP.js";import{F as C}from"./MagnifyingGlassIcon-BGPFRbxD.js";import{F as J}from"./BriefcaseIcon-CX5QZVLS.js";import{a as u,F as E}from"./DocumentTextIcon-RVnhu_4_.js";import{F as T}from"./ClockIcon-Wxa_T0o6.js";const I=()=>{const[j,y]=l.useState([]),[v,g]=l.useState(!0),[h,w]=l.useState(null),[d,N]=l.useState(""),[c,k]=l.useState("all"),{user:b}=F();l.useEffect(()=>{b&&(async()=>{try{g(!0);const t=await $.getUserApplications();y(Array.isArray(t)?t:(t==null?void 0:t.results)||[])}catch(t){console.error("Error fetching applications:",t),w("Failed to load job applications. Please try again later.")}finally{g(!1)}})()},[b]);const f=j.filter(r=>{var a,o,i,n,p;const t=((o=(a=r.job)==null?void 0:a.title)==null?void 0:o.toLowerCase().includes(d.toLowerCase()))||((p=(n=(i=r.job)==null?void 0:i.company)==null?void 0:n.name)==null?void 0:p.toLowerCase().includes(d.toLowerCase())),s=c==="all"||r.status===c;return t&&s}),S=r=>{const s={applied:{color:"bg-blue-100 text-blue-800",icon:T},review:{color:"bg-yellow-100 text-yellow-800",icon:u},interview:{color:"bg-purple-100 text-purple-800",icon:E},offered:{color:"bg-green-100 text-green-800",icon:L},rejected:{color:"bg-red-100 text-red-800",icon:x},withdrawn:{color:"bg-gray-100 text-gray-800",icon:x}}[r]||{color:"bg-gray-100 text-gray-800",icon:u},a=s.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color} capitalize`,children:[e.jsx(a,{className:"h-3 w-3 mr-1"}),r.replace(/-/g," ")]})},A=r=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(r).toLocaleDateString(void 0,t)};return v?e.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:e.jsx(R,{size:"lg"})}):h?e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:h})})]})})}):e.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Job Applications"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Track the status of your job applications in one place"})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative rounded-lg shadow-sm md:col-span-2",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white placeholder-gray-500",placeholder:"Search by job title or company...",value:d,onChange:r=>N(r.target.value)})]}),e.jsx("div",{className:"relative",children:e.jsxs("select",{className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white",value:c,onChange:r=>k(r.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"applied",children:"Applied"}),e.jsx("option",{value:"review",children:"Under Review"}),e.jsx("option",{value:"interview",children:"Interview"}),e.jsx("option",{value:"offered",children:"Offered"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"withdrawn",children:"Withdrawn"})]})})]}),e.jsx("div",{className:"space-y-4",children:f.length>0?f.map(r=>{var t,s,a,o,i,n;return e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 border border-white/20 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 flex items-center justify-center",children:e.jsx(J,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e.jsx(m,{to:`/job/${(t=r.job)==null?void 0:t.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:((s=r.job)==null?void 0:s.title)||"Job Title N/A"})}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[((o=(a=r.job)==null?void 0:a.company)==null?void 0:o.name)||"Company N/A",((i=r.job)==null?void 0:i.location)&&` â€¢ ${r.job.location}`]})]})]})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-4 flex flex-col items-start md:items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Applied on:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A(r.applied_at)})]}),S(r.status)]})]}),r.cover_letter&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:r.cover_letter})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[e.jsx(m,{to:`/job/${(n=r.job)==null?void 0:n.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View Job"}),r.resume&&e.jsx("a",{href:r.resume,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-purple-700 bg-purple-100 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:hover:bg-purple-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:"View Resume"})]})]},r.id)}):e.jsxs("div",{className:"text-center py-12 bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl shadow-inner",children:[e.jsx(u,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d||c!=="all"?"Try adjusting your search or filter criteria.":"You haven't applied to any jobs yet."}),e.jsx("div",{className:"mt-6",children:e.jsx(m,{to:"/jobs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Jobs"})})]})})]})})};export{I as default};
//# sourceMappingURL=JobApplicationsPage-CJn2Ti7a.js.map
