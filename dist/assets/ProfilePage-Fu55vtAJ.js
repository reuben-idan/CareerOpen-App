import{r,u as p,j as e,F as L,a as R,b as A,c as C,d as S,e as $,L as M}from"./index-CAXHRMTp.js";import{F as U,a as D,P as I,S as O,E as T,b as B,A as G,c as H}from"./glassmorphism-C2pvVsEZ.js";import{F as g}from"./ImageUpload-CZpPxOCX.js";import{F as V}from"./MapPinIcon-KPVKNJnJ.js";import{F as W}from"./BriefcaseIcon-CX5QZVLS.js";import"./index.es-CmJ_BXlj.js";import"./NotificationFilter-DIKgHltS.js";import"./SparklesIcon-B8gEewL6.js";import"./ShareIcon-C0j_6btY.js";import"./UserPlusIcon-DBG4Opr5.js";import"./BookmarkIcon-BStJlOfA.js";import"./DocumentTextIcon-RVnhu_4_.js";import"./ClockIcon-Wxa_T0o6.js";function z({title:t,titleId:i,...l},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},l),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const _=r.forwardRef(z);function q({title:t,titleId:i,...l},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},l),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const J=r.forwardRef(q),K=({profile:t,onEdit:i})=>{var o,d,n;const{user:l}=p(),s=(l==null?void 0:l.uid)===t.id;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-primary-500 to-primary-600",children:[t.coverPhoto?e.jsx("img",{src:t.coverPhoto,alt:"Cover",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(g,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm opacity-75",children:"No cover photo"})]})}),s&&e.jsx("button",{onClick:()=>i&&i(),className:"absolute top-2 right-2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",title:"Edit cover photo",children:e.jsx(g,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative -mt-16 group",children:[e.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden shadow-lg",children:t.photoURL?e.jsx("img",{src:t.photoURL,alt:t.displayName,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(L,{className:"h-16 w-16 text-gray-400"})})}),s&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx(g,{className:"h-6 w-6 mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"Change Photo"})]})})]}),e.jsxs("div",{className:"pt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.displayName||t.name||"User"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:t.headline||t.title||"Professional"})]})]}),s&&e.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.location&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(V,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("span",{children:t.location})]}),t.email&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(_,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:`mailto:${t.email}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(U,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:`tel:${t.phone}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.phone})]}),t.website&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsx(J,{className:"h-5 w-5 mr-2 text-gray-400"}),e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t.website})]})]}),t.about&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:t.about})]}),((o=t.experience)==null?void 0:o.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Experience"}),e.jsx("div",{className:"space-y-4",children:t.experience.map((a,c)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(W,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.company}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.startDate," - ",a.endDate||"Present"]}),a.description&&e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:a.description})]})]},c))})]}),((d=t.education)==null?void 0:d.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Education"}),e.jsx("div",{className:"space-y-4",children:t.education.map((a,c)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(D,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.degree}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.school}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.startDate," - ",a.endDate||"Present"]}),a.description&&e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:a.description})]})]},c))})]}),((n=t.skills)==null?void 0:n.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((a,c)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:typeof a=="string"?a:a.name},c))})]})]})]})},oe=()=>{const{userId:t}=A(),i=C(),{user:l}=p(),{profile:s,fetchProfileById:o,updateProfile:d}=S(),{showToast:n}=$(),[a,c]=r.useState(!1),[u,x]=r.useState(!1),[N,y]=r.useState(!0),[f,j]=r.useState(null),[b,v]=r.useState([]);r.useEffect(()=>(c(!0),()=>c(!1)),[]);const m=r.useCallback(async()=>{if(!(!a||!t)){y(!0),j(null);try{await o(t),s!=null&&s.activities&&Array.isArray(s.activities)&&v(s.activities)}catch(h){j(h.message),n("Error loading profile","error")}finally{y(!1)}}},[a,t,o,s==null?void 0:s.activities,n]);r.useEffect(()=>{m()},[m]);const w=()=>{x(!0)},k=()=>{x(!1)},E=async h=>{try{await d(h),n("Profile updated successfully","success"),x(!1),await m()}catch(F){throw n("Failed to update profile","error"),F}};if(N)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(M,{size:"lg"})});if(f)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:f}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Try Again"})]});if(!s)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The profile you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>i("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Go Home"})]});const P=(l==null?void 0:l.uid)===t;return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(I,{profile:s,isOwnProfile:P,onEdit:w}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(K,{profile:s}),e.jsx(O,{skills:s.skills||[]}),e.jsx(T,{experience:s.experience||[]}),e.jsx(B,{education:s.education||[]})]}),e.jsx("div",{className:"space-y-8",children:e.jsx(G,{activities:b})})]}),u&&e.jsx(H,{isOpen:u,onClose:k,profile:s,onUpdate:E})]})};export{oe as default};
//# sourceMappingURL=ProfilePage-Fu55vtAJ.js.map
