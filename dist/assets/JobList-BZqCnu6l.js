import{I as S,e as a,b as e,J as F,h as J}from"./vendor-DRkyCWVM.js";import{useState as h,useEffect as z}from"react";import{j as M}from"./jobService-4-QWe7J2.js";import{J as T}from"./JobCard-H_rWHOyI.js";import{J as P}from"./JobSearch-lhbOR7pJ.js";import{S as A}from"./Sidebar-C7W-oA_U.js";import{L}from"./index-LCuuRmLq.js";import{c as R}from"./EmployerLogos-BQkjsxsK.js";import"./NotificationFilter-DOg8MWxr.js";import{G as p}from"./GlassCard-B8Wn2WqQ.js";import"react-dom";import"./ImageUpload-Bh0pxtZJ.js";import"./vendor-mui-ByI5z5KH.js";const X=()=>{const[s,k]=h({results:[],count:0}),[w,x]=h(!0),[f,y]=h(null),[o,N]=S(),[g,_]=h(!1),[t,c]=h({search:o.get("search")||"",location:o.get("location")||"",job_type:o.get("job_type")||"",company:o.get("company")||"",min_salary:o.get("min_salary")||"",max_salary:o.get("max_salary")||"",is_remote:o.get("is_remote")==="true"||!1,skills:o.get("skills")||"",ordering:o.get("ordering")||"-created_at",page:parseInt(o.get("page")||"1"),page_size:10});z(()=>{(async()=>{try{x(!0),y(null);const l=new URLSearchParams;Object.entries(t).forEach(([i,m])=>{m!==""&&m!==!1&&l.append(i,m)}),N(l);const n=await M.searchJobs(l.toString());k(n.data)}catch(l){console.error("Error fetching jobs",l),y("Failed to load jobs. Please try again later.")}finally{x(!1)}})()},[t,N]);const j=r=>{c(l=>({...l,search:r,page:1}))},d=r=>{const{name:l,value:n,type:i,checked:m}=r.target;c(C=>({...C,[l]:i==="checkbox"?m:n,page:1}))},u=r=>{c(l=>({...l,page:r})),window.scrollTo(0,0)},v=()=>{c({search:"",location:"",job_type:"",company:"",min_salary:"",max_salary:"",is_remote:!1,skills:"",ordering:"-created_at",page:1,page_size:10})},b=Object.entries(t).some(([r,l])=>l&&!["page","page_size","ordering"].includes(r)&&l!==(r==="is_remote"?!1:""));return a("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex",children:[e(A,{}),e("div",{className:"flex-1 ml-0 md:ml-64",children:a("div",{className:"container mx-auto px-4 py-8",children:[e("div",{className:"mb-8",children:e("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:a("div",{className:"flex-1",children:[e("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Find Your Dream Job"}),a("p",{className:"text-lg text-gray-600",children:["Browse through ",s.count||0," job listings and find the perfect match for your skills"]})]})})}),e("div",{className:"mb-8",children:a("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:[e("div",{className:"mb-6",children:e(P,{initialQuery:t.search,onSearch:j})}),a("div",{className:"flex justify-between items-center mb-6",children:[e("h2",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Filters"}),a("button",{onClick:()=>_(!g),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[e(F,{className:"h-5 w-5"}),g?"Hide Filters":"Show Filters"]})]}),g&&a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a("div",{children:[e("label",{htmlFor:"job_type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),a("select",{id:"job_type",name:"job_type",value:t.job_type,onChange:d,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e("option",{value:"",children:"All Types"}),e("option",{value:"full_time",children:"Full Time"}),e("option",{value:"part_time",children:"Part Time"}),e("option",{value:"contract",children:"Contract"}),e("option",{value:"internship",children:"Internship"}),e("option",{value:"temporary",children:"Temporary"})]})]}),a("div",{children:[e("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),e("input",{type:"text",id:"location",name:"location",value:t.location,onChange:d,placeholder:"City, State, or Remote",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary Range"}),a("div",{className:"flex gap-2",children:[e("input",{type:"number",id:"min_salary",name:"min_salary",value:t.min_salary,onChange:d,placeholder:"Min",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e("input",{type:"number",id:"max_salary",name:"max_salary",value:t.max_salary,onChange:d,placeholder:"Max",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),e("div",{className:"flex items-end",children:a("div",{className:"flex items-center",children:[e("input",{id:"is_remote",name:"is_remote",type:"checkbox",checked:t.is_remote,onChange:d,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"}),e("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]})})]}),b&&a("div",{className:"flex flex-wrap gap-2 mb-4",children:[Object.entries(t).map(([r,l])=>{if(!l||r==="page"||r==="page_size"||r==="ordering"||r==="is_remote"&&!l)return null;let n=l;return r==="is_remote"&&(n="Remote"),r==="job_type"&&(n=l.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")),a("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:[r.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),": ",n,e("button",{onClick:()=>{c(i=>({...i,[r]:r==="is_remote"?!1:"",page:1}))},className:"ml-2 text-blue-500 hover:text-blue-700",children:e(J,{className:"h-3 w-3"})})]},r)}),e("button",{onClick:v,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Clear all filters"})]})]})}),e("div",{className:"mb-8",children:w?e("div",{className:"flex justify-center items-center h-64",children:e(L,{size:"lg"})}):f?a("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center",children:[e("p",{className:"text-red-700 dark:text-red-300",children:f}),e("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})]}):s.results&&s.results.length>0?a("div",{className:"space-y-4",children:[a("div",{className:"flex justify-between items-center mb-4",children:[a("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e("span",{className:"font-medium",children:(t.page-1)*t.page_size+1})," to"," ",e("span",{className:"font-medium",children:Math.min(t.page*t.page_size,s.count)})," ","of ",e("span",{className:"font-medium",children:s.count})," jobs"]}),a("div",{className:"flex items-center",children:[e("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),a("select",{id:"sort",name:"ordering",value:t.ordering,onChange:d,className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[e("option",{value:"-created_at",children:"Newest"}),e("option",{value:"created_at",children:"Oldest"}),e("option",{value:"-salary_max",children:"Salary: High to Low"}),e("option",{value:"salary_min",children:"Salary: Low to High"}),e("option",{value:"title",children:"Title: A-Z"}),e("option",{value:"-title",children:"Title: Z-A"})]})]})]}),e("div",{className:"space-y-4",children:s.results.map(r=>e(T,{job:r,onSave:null,isSaved:!1},r.id))}),s.count>t.page_size&&e("div",{className:"flex justify-center mt-8",children:a("nav",{className:"flex items-center gap-2","aria-label":"Pagination",children:[e("button",{onClick:()=>u(Math.max(1,t.page-1)),disabled:t.page===1,className:`px-3 py-1 rounded-md ${t.page===1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:"Previous"}),Array.from({length:Math.ceil(s.count/t.page_size)},(r,l)=>l+1).filter(r=>r===1||r===t.page||r===t.page-1||r===t.page+1||r===Math.ceil(s.count/t.page_size)).map((r,l,n)=>l>0&&n[l-1]!==r-1?e("span",{className:"px-3 py-1",children:"..."},`ellipsis-${r}`):e("button",{onClick:()=>u(r),className:`px-3 py-1 rounded-md ${t.page===r?"bg-blue-600 text-white":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:r},r)),e("button",{onClick:()=>u(Math.min(Math.ceil(s.count/t.page_size),t.page+1)),disabled:t.page>=Math.ceil(s.count/t.page_size),className:`px-3 py-1 rounded-md ${t.page>=Math.ceil(s.count/t.page_size)?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:"Next"})]})})]}):a("div",{className:"text-center py-12",children:[e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),e("p",{className:"text-gray-500 dark:text-gray-400",children:b?"Try adjusting your search or filter criteria.":"There are currently no job listings available. Please check back later."}),b&&e("button",{onClick:v,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Clear all filters"})]})}),a("div",{className:"mb-12",children:[e("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Featured Companies"}),e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:e(R,{})})]}),a("div",{className:"mb-12",children:[e("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"What Our Users Say"}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a(p,{className:"p-6",children:[a("div",{className:"flex items-center mb-4",children:[e("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:"JD"}),a("div",{className:"ml-4",children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"John Doe"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Senior Developer"})]})]}),e("p",{className:"text-gray-600 dark:text-gray-300",children:'"Found my dream job within a week of using CareerOpen. The application process was seamless!"'})]}),a(p,{className:"p-6",children:[a("div",{className:"flex items-center mb-4",children:[e("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold text-xl",children:"AS"}),a("div",{className:"ml-4",children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Alex Smith"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Product Manager"})]})]}),e("p",{className:"text-gray-600 dark:text-gray-300",children:'"The job matching algorithm is spot on. I received offers that perfectly matched my skills and experience."'})]}),a(p,{className:"p-6",children:[a("div",{className:"flex items-center mb-4",children:[e("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-xl",children:"MJ"}),a("div",{className:"ml-4",children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Maria Johnson"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"UX Designer"})]})]}),e("p",{className:"text-gray-600 dark:text-gray-300",children:'"The application tracking system is a game-changer. I could easily keep track of all my applications in one place."'})]})]})]}),a("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 md:p-12 text-center text-white",children:[e("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to find your next opportunity?"}),e("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Join thousands of professionals who found their dream jobs through CareerOpen"}),a("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e("button",{className:"px-6 py-3 bg-white text-blue-700 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:"Browse Jobs"}),e("button",{className:"px-6 py-3 border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors",children:"Create Profile"})]})]})]})})]})};export{X as default};
//# sourceMappingURL=JobList-BZqCnu6l.js.map
