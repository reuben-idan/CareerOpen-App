import{R as s,r as u}from"./index-CAXHRMTp.js";var i=[];function F(){var e="https://js.paystack.co/v1/inline.js",t=u.useState({loaded:!1,error:!1}),a=t[0],n=t[1];return u.useEffect(function(){if(i.includes(e))n({loaded:!0,error:!1});else{i.push(e);var r=document.createElement("script");r.src=e,r.async=!0;var c=function(){n({loaded:!0,error:!1})},o=function(){var l=i.indexOf(e);l>=0&&i.splice(l,1),r.remove(),n({loaded:!0,error:!0})};return r.addEventListener("load",c),r.addEventListener("complete",c),r.addEventListener("error",o),document.body.appendChild(r),function(){r.removeEventListener("load",c),r.removeEventListener("error",o)}}},[e]),[a.loaded,a.error]}var H=function(e){var t=window.PaystackPop&&window.PaystackPop.setup(e);t&&t.openIframe()};function g(e){var t=F(),a=t[0],n=t[1],r=e.publicKey,c=e.firstname,o=e.lastname,l=e.phone,w=e.email,O=e.amount,x=e.reference,m=e.metadata,j=m===void 0?{}:m,v=e.currency,z=v===void 0?"NGN":v,N=e.channels,y=e.label,L=y===void 0?"":y,h=e.plan,q=h===void 0?"":h,P=e.quantity,I=P===void 0?"":P,b=e.subaccount,R=b===void 0?"":b,p=e.transaction_charge,K=p===void 0?0:p,C=e.bearer,U=C===void 0?"account":C,B=e.split,G=e.split_code;function A(S,E){if(n)throw new Error("Unable to load paystack inline script");if(a){var D={callback:S||function(){return null},onClose:E||function(){return null},key:r,ref:x,email:w,firstname:c,lastname:o,phone:l,amount:O,currency:z,plan:q,quantity:I,"data-custom-button":e["data-custom-button"]||"",channels:N,subaccount:R,transaction_charge:K,bearer:U,label:L,metadata:j,split:B,split_code:G};H(D)}}return u.useEffect(function(){if(n)throw new Error("Unable to load paystack inline script")},[n]),A}var d=function(){return d=Object.assign||function(t){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},d.apply(this,arguments)};function f(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a}var T=function(e){var t=e.text,a=e.className,n=e.children,r=e.onSuccess,c=e.onClose,o=f(e,["text","className","children","onSuccess","onClose"]),l=g(o);return s.createElement("button",{className:a,onClick:function(){return l(r,c)}},t||n)},k=u.createContext({initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),J=function(e){var t=e.children,a=e.onSuccess,n=e.onClose,r=f(e,["children","onSuccess","onClose"]),c=g(r);return s.createElement(k.Provider,{value:{initializePayment:c,onSuccess:a,onClose:n}},t)},M=function(e){var t=e.children,a=e.ref,n=u.useContext(k),r=n.initializePayment,c=n.onSuccess,o=n.onClose,l=function(){return r(c,o)};return t({initializePayment:l,ref:a})};u.forwardRef(function(e,t){var a=e.children,n=e.onSuccess,r=e.onClose,c=f(e,["children","onSuccess","onClose"]),o=n||function(){return null},l=r||function(){return null};return s.createElement(J,d({},c,{onSuccess:o,onClose:l}),s.createElement(M,{ref:t},a))});export{T as P};
//# sourceMappingURL=index.es-CmJ_BXlj.js.map
