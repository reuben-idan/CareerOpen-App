import{y as S,j as e,ar as Q,aa as m,ag as F,m as T,as as W,h as D,at as _,w as E,au as G,I as J,av as K,U as L,aw as X,ad as V,ax as Z,ah as ee,am as ae,$ as se,ay as re,a5 as j,az as te,W as $,d as B,Y as le,J as ie,aA as oe,aB as ne,C as ce,aC as de,aD as xe,aE as me,O as pe,P as he}from"./vendor-B42s3pmA.js";import{useState as i,useEffect as C}from"react";import{u as ge,e as z,f as H,c as R,E as ue,H as ye}from"./index-DKFhryC_.js";import{S as fe}from"./Sidebar-C4Kc5Guw.js";import"react-dom";const be=()=>{const[n,o]=i(!1),{user:s,signOut:d}=ge(),g=S(),x=()=>o(!n),c=async()=>{try{const l=await d();if(l!=null&&l.success)F.success("Successfully signed out!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),g("/signin");else throw new Error("Logout was not successful")}catch(l){console.error("Sign out error:",l),F.error("Error signing out. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:x,className:"flex items-center justify-center text-gray-500 text-xl hover:text-blue-600 focus:outline-none","aria-label":"User Profile Menu",children:e.jsx(Q,{})}),n&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs("ul",{className:"py-2",children:[e.jsx("li",{children:e.jsx(m,{to:`/profile/${s==null?void 0:s.uid}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-blue-600",children:"View Profile"})}),e.jsx("li",{children:e.jsx(m,{to:"/subscription",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-green-600",children:"Payment on Subscription"})}),e.jsx("li",{children:e.jsx("button",{onClick:c,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-red-600",children:"Sign Out"})})]})})]})},je=({isOpen:n,onClose:o})=>{var O,P,U,M;const{user:s,signOut:d}=z(),{theme:g,toggleTheme:x}=H(),c=T(),l=S(),[Y,v]=i([]),[p,h]=i(0),[t,I]=i({}),[A,w]=i(!1);C(()=>{v([{id:1,type:"job",message:"New job matching your profile",unread:!0},{id:2,type:"connection",message:"John Doe wants to connect",unread:!0}]),h(2),I({applications:12,interviews:3,savedJobs:25,connections:156,profileViews:89}),w(!1)},[]);const u=async()=>{try{const a=await d();if(a!=null&&a.success)R.track("user_logout"),l("/signin"),o();else throw new Error("Logout was not successful")}catch(a){console.error("Logout error:",a),F.error("Failed to log out. Please try again.")}},y=[{path:"/feed",icon:D,solidIcon:W,label:"Feed",description:"Discover opportunities",badge:null},{path:"/jobs",icon:E,solidIcon:_,label:"Jobs",description:"Find your next role",badge:t.applications>0?`${t.applications} active`:null},{path:"/network",icon:J,solidIcon:G,label:"Network",description:"Connect with professionals",badge:t.connections>0?`${t.connections}`:null},{path:"/messages",icon:L,solidIcon:K,label:"Messages",description:"Chat with connections",badge:p>0?p:null},{path:"/notifications",icon:V,solidIcon:X,label:"Notifications",description:"Stay updated",badge:p>0?p:null}],r=[{path:`/profile/${s==null?void 0:s.uid}`,icon:ee,solidIcon:Z,label:"Profile",description:"Manage your profile",badge:t.profileViews>0?`${t.profileViews} views`:null},{path:"/saved-jobs",icon:se,solidIcon:ae,label:"Saved Jobs",description:"Your bookmarked jobs",badge:t.savedJobs>0?`${t.savedJobs}`:null},{path:"/applications",icon:j,solidIcon:re,label:"Applications",description:"Track your applications",badge:t.applications>0?`${t.applications}`:null},{path:"/subscription",icon:$,solidIcon:te,label:"Premium",description:"Upgrade your account",premium:!0,badge:A?"Active":"Upgrade"}],q=[{id:1,label:"Post Job",icon:le,path:"/post-job",premium:!0},{id:2,label:"Create Post",icon:j,path:"/create-post"},{id:3,label:"Upload Resume",icon:j,path:"/upload-resume"},{id:4,label:"View Analytics",icon:ie,path:"/analytics",premium:!0}],f=a=>a==="/feed"?c.pathname==="/feed"||c.pathname==="/":c.pathname.startsWith(a),b=a=>{l(a),o()};return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:o}),e.jsx("div",{className:"fixed left-0 top-0 h-full w-80 bg-white dark:bg-gray-900 z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:((P=(O=s==null?void 0:s.displayName)==null?void 0:O.charAt(0))==null?void 0:P.toUpperCase())||((M=(U=s==null?void 0:s.email)==null?void 0:U.charAt(0))==null?void 0:M.toUpperCase())||"U"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.displayName)||"User"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s==null?void 0:s.email})]})]}),e.jsx("button",{onClick:o,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(B,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Your Activity"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:t.applications}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Applications"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:t.interviews}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Interviews"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:t.connections}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connections"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:t.profileViews}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Views"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Main Navigation"}),e.jsx("div",{className:"space-y-2",children:y.map(a=>{const N=f(a.path)?a.solidIcon:a.icon,k=f(a.path);return e.jsxs("button",{onClick:()=>b(a.path),className:`w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 ${k?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"h-5 w-5"}),a.badge&&e.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:a.badge})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"font-medium",children:a.label})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]})]},a.path)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Account"}),e.jsx("div",{className:"space-y-2",children:r.map(a=>{const N=f(a.path)?a.solidIcon:a.icon,k=f(a.path);return e.jsxs("button",{onClick:()=>b(a.path),className:`w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 ${k?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"h-5 w-5"}),a.badge&&e.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center",children:a.badge})]}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:a.label}),a.premium&&e.jsx($,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]})]},a.path)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),e.jsx("div",{className:"space-y-2",children:q.map(a=>e.jsxs("button",{onClick:()=>b(a.path),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[e.jsx(a.icon,{className:"h-5 w-5"}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:a.label}),a.premium&&e.jsx($,{className:"h-4 w-4 text-yellow-500"})]})})]},a.id))})]})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>b("/settings"),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsx("span",{className:"ml-3 font-medium",children:"Settings"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200",children:[e.jsx(ne,{className:"h-5 w-5"}),e.jsx("span",{className:"ml-3 font-medium",children:"Sign Out"})]})]})})]})})]}):null},ve=()=>{const{user:n}=z(),{theme:o,toggleTheme:s}=H(),d=T(),g=S(),[x,c]=i(!1),[l,Y]=i([]),[v,p]=i(!1),[h,t]=i(""),[I,A]=i(0);C(()=>{const r=()=>{p(window.scrollY>0)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),C(()=>{R.trackPageView(d.pathname,document.title)},[d]);const w=r=>{r.preventDefault(),h.trim()&&(g(`/search?q=${encodeURIComponent(h.trim())}`),R.track("search",{query:h}))},u=[{path:"/",icon:D,label:"Home"},{path:"/jobs",icon:E,label:"Jobs"},{path:"/my-applications",icon:j,label:"My Applications"},{path:"/network",icon:J,label:"Network"},{path:"/messages",icon:L,label:"Messages"}],y=r=>d.pathname===r;return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${v?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm":"bg-white dark:bg-gray-900"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(m,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.svg",alt:"CareerOpen",className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-display font-semibold text-primary-600 dark:text-primary-400",children:"CareerOpen"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:u.map(r=>e.jsxs(m,{to:r.path,className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${y(r.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,children:[e.jsx(r.icon,{className:"h-5 w-5"}),e.jsx("span",{children:r.label})]},r.path))}),e.jsx("div",{className:"flex-1 flex items-center justify-center px-2 lg:ml-6 lg:justify-end",children:e.jsx("div",{className:"max-w-lg w-full lg:max-w-xs",children:e.jsxs("form",{onSubmit:w,className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ce,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e.jsx("input",{type:"text",value:h,onChange:r=>t(r.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 dark:focus:placeholder-gray-300 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx("button",{onClick:s,className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle theme",children:o==="dark"?e.jsx(de,{className:"h-5 w-5"}):e.jsx(xe,{className:"h-5 w-5"})}),e.jsxs("button",{className:"relative p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Notifications",children:[e.jsx(V,{className:"h-5 w-5"}),l.length>0&&e.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:l.length})]}),n?e.jsx(be,{}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{to:"/login",className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Sign in"}),e.jsx(m,{to:"/signup",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Sign up"})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>c(!x),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle menu",children:x?e.jsx(B,{className:"h-6 w-6"}):e.jsx(me,{className:"h-6 w-6"})})})]})}),x&&e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:u.map(r=>e.jsxs(m,{to:r.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium ${y(r.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,onClick:()=>c(!1),children:[e.jsx(r.icon,{className:"h-5 w-5"}),e.jsx("span",{children:r.label})]},r.path))})})]}),e.jsx(je,{isOpen:x,onClose:()=>c(!1)})]})},we=()=>{const[n,o]=i(!1),s=()=>{o(!n)};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(ve,{onMenuToggle:s}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(fe,{isCollapsed:n,onToggle:s}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("main",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx(ue,{children:e.jsx(pe,{})})}),e.jsx("footer",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:[e.jsx(ye,{showDetails:!1,className:"border-0 p-2"}),e.jsx("div",{className:"py-2 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," CareerOpen. All rights reserved."]})})]})})]})]})]})};we.propTypes={children:he.node};export{we as default};
//# sourceMappingURL=AppLayout--tjnwaHy.js.map
