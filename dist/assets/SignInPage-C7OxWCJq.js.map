{"version":3,"file":"SignInPage-C7OxWCJq.js","sources":["../../src/pages/SignInPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useUser } from \"../context/auth\";\r\nimport { Logo } from \"../components/common/Logo\";\r\nimport logo from \"../assets/logo.jpeg\";\r\n\r\nconst employerLogos = [\r\n  {\r\n    name: \"Google\",\r\n    url: \"https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg\",\r\n  },\r\n  {\r\n    name: \"Microsoft\",\r\n    url: \"https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg\",\r\n  },\r\n  {\r\n    name: \"Meta\",\r\n    url: \"https://upload.wikimedia.org/wikipedia/commons/0/05/Meta_Platforms_Logo.svg\",\r\n  },\r\n  {\r\n    name: \"Amazon\",\r\n    url: \"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg\",\r\n  },\r\n  {\r\n    name: \"Netflix\",\r\n    url: \"https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg\",\r\n  },\r\n];\r\n\r\nconst peopleImages = [\r\n  \"https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=facearea&w=400&h=400&facepad=2\",\r\n  \"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=facearea&w=400&h=400&facepad=2\",\r\n  \"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?auto=format&fit=facearea&w=400&h=400&facepad=2\",\r\n  \"https://images.unsplash.com/photo-1511367461989-f85a21fda167?auto=format&fit=facearea&w=400&h=400&facepad=2\",\r\n  \"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=facearea&w=400&h=400&facepad=2\",\r\n];\r\n\r\nexport default function SignInPage() {\r\n  const { signIn, user } = useUser();\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Sign in the user using the backend authentication\r\n      const userData = await signIn(formData.email, formData.password);\r\n      \r\n      // Redirect to the user's profile page after successful login\r\n      if (userData && userData.id) {\r\n        navigate(`/profile/${userData.id}`);\r\n      } else {\r\n        // Fallback to feed if user data is not available\r\n        navigate(\"/feed\");\r\n      }\r\n    } catch (err) {\r\n      // Handle different types of errors with user-friendly messages\r\n      if (err.response) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        if (err.response.status === 401) {\r\n          setError(\"Invalid email or password. Please try again.\");\r\n        } else if (err.response.status === 400) {\r\n          setError(\"Invalid request. Please check your input and try again.\");\r\n        } else if (err.response.status >= 500) {\r\n          setError(\"Server error. Please try again later.\");\r\n        } else {\r\n          setError(err.response.data?.message || \"An error occurred during sign in.\");\r\n        }\r\n      } else if (err.request) {\r\n        // The request was made but no response was received\r\n        setError(\"Unable to connect to the server. Please check your internet connection.\");\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        setError(err.message || \"An unexpected error occurred.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900\">\r\n      {/* Top employer logos */}\r\n      <div className=\"flex justify-center gap-6 py-6 md:py-10\">\r\n        {employerLogos.map((emp) => (\r\n          <img\r\n            key={emp.name}\r\n            src={emp.url}\r\n            alt={emp.name}\r\n            className=\"h-8 md:h-10 grayscale hover:grayscale-0 transition-all duration-300\"\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"flex-1 flex flex-col md:flex-row items-center justify-center gap-12 px-4 pb-8\">\r\n        {/* Left: Glassy Form */}\r\n        <div className=\"w-full max-w-md p-8 rounded-3xl shadow-2xl backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border border-white/20 dark:border-gray-700/20\">\r\n          <div className=\"flex flex-col items-center mb-6\">\r\n            <img\r\n              src={logo}\r\n              alt=\"Logo\"\r\n              className=\"h-20 w-20 rounded-2xl shadow-lg mb-2 object-cover\"\r\n            />\r\n            <h1 className=\"text-3xl font-bold text-center mb-2 bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent\">\r\n              Welcome Back\r\n            </h1>\r\n            <p className=\"text-center text-gray-600 dark:text-gray-300 mb-2\">\r\n              Sign in to your account\r\n            </p>\r\n          </div>\r\n          <form className=\"space-y-4\" onSubmit={handleSubmit}>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Email\"\r\n              className=\"w-full px-4 py-3 rounded-xl bg-white/60 dark:bg-gray-800/60 border border-gray-200/50 dark:border-gray-600/50 focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Password\"\r\n              className=\"w-full px-4 py-3 rounded-xl bg-white/60 dark:bg-gray-800/60 border border-gray-200/50 dark:border-gray-600/50 focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            {error && (\r\n              <div className=\"bg-red-100 text-red-700 px-4 py-2 rounded-xl text-center\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full py-3 rounded-xl font-semibold bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 disabled:opacity-50\"\r\n            >\r\n              {loading ? \"Signing in...\" : \"Sign In\"}\r\n            </button>\r\n          </form>\r\n          <div className=\"text-center mt-6\">\r\n            <p className=\"text-gray-600 dark:text-gray-400\">\r\n              Don&apos;t have an account?{\" \"}\r\n              <Link\r\n                to=\"/signup\"\r\n                className=\"font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-300\"\r\n              >\r\n                Sign up\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* Right: Photo grid/banner */}\r\n        <div className=\"hidden md:grid grid-cols-2 gap-4 max-w-xs\">\r\n          {peopleImages.map((img, i) => (\r\n            <img\r\n              key={i}\r\n              src={img}\r\n              alt=\"Young professional\"\r\n              className=\"rounded-2xl shadow-lg object-cover aspect-square w-full h-full border-4 border-white/40\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["employerLogos","peopleImages","SignInPage","signIn","user","useUser","navigate","useNavigate","formData","setFormData","useState","loading","setLoading","error","setError","success","setSuccess","handleChange","e","name","value","prev","handleSubmit","userData","err","_a","jsxs","jsx","emp","logo","Link","img","i"],"mappings":"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"}