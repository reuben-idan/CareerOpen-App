import{u as e,j as t,a as r,F as a,b as i,c as s,d as l,L as o}from"./index-C0ISbAl6.js";import{r as c}from"./react-vendor-Blpmel2Z.js";import{F as n,a as d,P as m,S as h,E as p,b as x,A as g,c as u}from"./EmployerLogos-DFBkoq69.js";import{F as f}from"./ImageUpload-CGn2NtHS.js";import{F as y}from"./MapPinIcon-zv-1fgIR.js";import{F as v}from"./BriefcaseIcon-D3vL11TR.js";import"./index.es-BIKy00CO.js";import"./utils-CE5H4mLI.js";import"./NotificationFilter-D7DGd0Wv.js";import{u as N,c as b}from"./router-wWB8CCN9.js";import"./ui-components-Cj_Nz0sg.js";import"./SparklesIcon-B0d4700B.js";import"./ShareIcon-BLHX_IHz.js";import"./UserPlusIcon-D1VRgE0K.js";import"./BookmarkIcon-BcwDfmGc.js";import"./DocumentTextIcon-8uue8MYA.js";import"./ClockIcon-D6KXJook.js";function w({title:e,titleId:t,...r},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const k=c.forwardRef(w);function j({title:e,titleId:t,...r},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const E=c.forwardRef(j),P=({profile:s,onEdit:l})=>{var o,c,m;const{user:h}=e(),p=(null==h?void 0:h.uid)===s.id;return t("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[t("div",{className:"relative h-32 bg-gradient-to-r from-primary-500 to-primary-600",children:[s.coverPhoto?r("img",{src:s.coverPhoto,alt:"Cover",className:"w-full h-full object-cover"}):r("div",{className:"w-full h-full bg-gradient-to-r from-primary-500 to-primary-600 flex items-center justify-center",children:t("div",{className:"text-center text-white",children:[r(f,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r("p",{className:"text-sm opacity-75",children:"No cover photo"})]})}),p&&r("button",{onClick:()=>l&&l(),className:"absolute top-2 right-2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",title:"Edit cover photo",children:r(f,{className:"h-4 w-4"})})]}),t("div",{className:"px-6 py-4",children:[t("div",{className:"flex items-start justify-between",children:[t("div",{className:"flex items-center space-x-4",children:[t("div",{className:"relative -mt-16 group",children:[r("div",{className:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 overflow-hidden shadow-lg",children:s.photoURL?r("img",{src:s.photoURL,alt:s.displayName,className:"h-full w-full object-cover"}):r("div",{className:"h-full w-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:r(a,{className:"h-16 w-16 text-gray-400"})})}),p&&r("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer",children:t("div",{className:"text-center text-white",children:[r(f,{className:"h-6 w-6 mx-auto mb-1"}),r("span",{className:"text-xs",children:"Change Photo"})]})})]}),t("div",{className:"pt-16",children:[r("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.displayName||s.name||"User"}),r("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:s.headline||s.title||"Professional"})]})]}),p&&t("button",{onClick:l,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[r(i,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),t("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.location&&t("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r(y,{className:"h-5 w-5 mr-2 text-gray-400"}),r("span",{children:s.location})]}),s.email&&t("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r(k,{className:"h-5 w-5 mr-2 text-gray-400"}),r("a",{href:`mailto:${s.email}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.email})]}),s.phone&&t("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r(n,{className:"h-5 w-5 mr-2 text-gray-400"}),r("a",{href:`tel:${s.phone}`,className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.phone})]}),s.website&&t("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[r(E,{className:"h-5 w-5 mr-2 text-gray-400"}),r("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:s.website})]})]}),s.about&&t("div",{className:"mt-6",children:[r("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"About"}),r("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line leading-relaxed",children:s.about})]}),(null==(o=s.experience)?void 0:o.length)>0&&t("div",{className:"mt-6",children:[r("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Experience"}),r("div",{className:"space-y-4",children:s.experience.map((e,a)=>t("div",{className:"flex items-start",children:[r(v,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),t("div",{children:[r("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),r("p",{className:"text-gray-600 dark:text-gray-300",children:e.company}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.startDate," - ",e.endDate||"Present"]}),e.description&&r("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:e.description})]})]},a))})]}),(null==(c=s.education)?void 0:c.length)>0&&t("div",{className:"mt-6",children:[r("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Education"}),r("div",{className:"space-y-4",children:s.education.map((e,a)=>t("div",{className:"flex items-start",children:[r(d,{className:"h-5 w-5 mt-1 mr-3 text-gray-400"}),t("div",{children:[r("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.degree}),r("p",{className:"text-gray-600 dark:text-gray-300",children:e.school}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.startDate," - ",e.endDate||"Present"]}),e.description&&r("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:e.description})]})]},a))})]}),(null==(m=s.skills)?void 0:m.length)>0&&t("div",{className:"mt-6",children:[r("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Skills"}),r("div",{className:"flex flex-wrap gap-2",children:s.skills.map((e,t)=>r("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200",children:"string"==typeof e?e:e.name},t))})]})]})]})},I=()=>{const{userId:a}=N(),i=b(),{user:n}=e(),{profile:d,fetchProfileById:f,updateProfile:y}=s(),{showToast:v}=l(),[w,k]=c.useState(!1),[j,E]=c.useState(!1),[I,C]=c.useState(!0),[S,A]=c.useState(null),[L,F]=c.useState([]);c.useEffect(()=>(k(!0),()=>k(!1)),[]);const M=c.useCallback(async()=>{if(w&&a){C(!0),A(null);try{await f(a),(null==d?void 0:d.activities)&&Array.isArray(d.activities)&&F(d.activities)}catch(e){A(e.message),v("Error loading profile","error")}finally{C(!1)}}},[w,a,f,null==d?void 0:d.activities,v]);c.useEffect(()=>{M()},[M]);if(I)return r("div",{className:"flex items-center justify-center min-h-screen",children:r(o,{size:"lg"})});if(S)return t("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[r("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),r("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:S}),r("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Try Again"})]});if(!d)return t("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[r("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),r("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The profile you're looking for doesn't exist or has been removed."}),r("button",{onClick:()=>i("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Go Home"})]});const U=(null==n?void 0:n.uid)===a;return t("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r(m,{profile:d,isOwnProfile:U,onEdit:()=>{E(!0)}}),t("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-2 space-y-8",children:[r(P,{profile:d}),r(h,{skills:d.skills||[]}),r(p,{experience:d.experience||[]}),r(x,{education:d.education||[]})]}),r("div",{className:"space-y-8",children:r(g,{activities:L})})]}),j&&r(u,{isOpen:j,onClose:()=>{E(!1)},profile:d,onUpdate:async e=>{try{await y(e),v("Profile updated successfully","success"),E(!1),await M()}catch(t){throw v("Failed to update profile","error"),t}}})]})};export{I as default};
//# sourceMappingURL=ProfilePage-COFgrYVw.js.map
