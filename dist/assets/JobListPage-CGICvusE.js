import{z as J,j as e,C as P,A as R,r as A,w as L,D as T}from"./vendor-B42s3pmA.js";import{useState as b,useEffect as B}from"react";import{u as E,P as I}from"./Pagination-Bh_eZmi-.js";import{J as z}from"./JobCard-B7RpJYoe.js";import{L as M}from"./index-DKFhryC_.js";import{E as O}from"./ErrorMessage-BHf3m2He.js";import"react-dom";const K=()=>{const[t,y]=J(),[x,u]=b(!1),{jobs:o,isLoading:c,error:m,fetchJobs:h,currentPage:f,totalPages:p,totalCount:g}=E(),[s,d]=b({search:t.get("search")||"",location:t.get("location")||"",job_type:t.get("job_type")||"",company:t.get("company")||"",min_salary:t.get("min_salary")||"",is_remote:t.get("is_remote")==="true"||!1,ordering:t.get("ordering")||"-created_at",page:parseInt(t.get("page")||"1"),page_size:10});B(()=>{(async()=>{await h(s)})();const l=new URLSearchParams;Object.entries(s).forEach(([i,r])=>{r!==""&&r!==!1&&l.append(i,r)}),y(l)},[s,h,y]);const v=a=>{const{name:l,value:i}=a.target;d(r=>({...r,[l]:i,page:1}))},n=a=>{const{name:l,value:i,type:r,checked:C}=a.target;d(F=>({...F,[l]:r==="checkbox"?C:i,page:1}))},N=a=>{d(l=>({...l,page:a})),window.scrollTo(0,0)},j=()=>{d({search:"",location:"",job_type:"",company:"",min_salary:"",is_remote:!1,ordering:"-created_at",page:1,page_size:10})},w=[{value:"",label:"All Types"},{value:"full_time",label:"Full-time"},{value:"part_time",label:"Part-time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"temporary",label:"Temporary"}],k=[{value:"-created_at",label:"Most Recent"},{value:"created_at",label:"Oldest"},{value:"-salary",label:"Highest Salary"},{value:"salary",label:"Lowest Salary"}],S=a=>{console.log("Save job:",a)},_=a=>{console.log("Apply to job:",a)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[g," ",g===1?"Job":"Jobs"," Available"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Find your dream job today"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(P,{className:"h-5 w-5 text-gray-400"})}),e.jsx(Input,{type:"text",name:"search",placeholder:"Search by job title, company, or keywords",value:s.search,onChange:v,className:"pl-10 w-full"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs(Button,{variant:"outline",onClick:()=>u(!x),className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5"}),x?"Hide Filters":"Filters"]})})]}),x&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-5 w-5 text-gray-400"})}),e.jsx(Input,{type:"text",name:"location",placeholder:"City, state, or remote",value:s.location,onChange:n,className:"pl-10 w-full"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(L,{className:"h-5 w-5 text-gray-400"})}),e.jsx(Select,{name:"job_type",value:s.job_type,onChange:n,className:"pl-10 w-full",children:w.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min. Salary"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"h-5 w-5 text-gray-400"})}),e.jsx(Input,{type:"number",name:"min_salary",placeholder:"Min. salary",value:s.min_salary,onChange:n,min:"0",step:"1000",className:"pl-10 w-full"})]})]}),e.jsxs("div",{className:"flex items-end",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Checkbox,{id:"is_remote",name:"is_remote",checked:s.is_remote,onChange:n,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]}),e.jsx(Button,{variant:"ghost",onClick:j,className:"ml-auto text-sm",children:"Clear all"})]})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"lg:w-2/3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 sm:mb-0",children:["Showing ",o.length," of ",g," jobs"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),e.jsx(Select,{id:"sort",name:"ordering",value:s.ordering,onChange:n,className:"text-sm",children:k.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]}),c&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(M,{size:"lg"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading jobs..."})]}),m&&!c&&e.jsx(O,{message:m,onRetry:()=>h(s),className:"my-8"}),!c&&!m&&o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter to find what you're looking for."}),e.jsx(Button,{variant:"outline",onClick:j,className:"mt-4",children:"Clear all filters"})]}),!c&&!m&&o.length>0&&e.jsxs("div",{className:"space-y-4",children:[o.map(a=>e.jsx(z,{job:a,onSave:S,onApply:_,isSaved:!1},a.id)),p>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(I,{currentPage:f,totalPages:p,onPageChange:N})})]})]}),e.jsx("div",{className:"lg:w-1/3",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Job Alerts"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Get notified when new jobs match your search criteria."}),e.jsx(Button,{variant:"primary",className:"w-full",children:"Create Job Alert"}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Save Your Search"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Save this search to get notified when new jobs are posted."}),e.jsx(Button,{variant:"outline",className:"w-full",children:"Save Search"})]})]})})]})]})};export{K as default};
//# sourceMappingURL=JobListPage-CGICvusE.js.map
