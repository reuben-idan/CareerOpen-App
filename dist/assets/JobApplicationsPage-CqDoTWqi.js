import{b as e,e as t,f as u,K as L,D as R,ai as g,ad as b,g as $,Y as C,M as J}from"./vendor-DRkyCWVM.js";import{useState as d,useEffect as T}from"react";import{u as D,L as M}from"./index-LCuuRmLq.js";import{j as _}from"./jobService-4-QWe7J2.js";import"react-dom";const P=()=>{const[v,w]=d([]),[N,h]=d(!0),[f,k]=d(null),[c,j]=d(""),[m,A]=d("all"),{user:x}=D();T(()=>{x&&(async()=>{try{h(!0);const a=await _.getUserApplications();w(Array.isArray(a)?a:(a==null?void 0:a.results)||[])}catch(a){console.error("Error fetching applications:",a),k("Failed to load job applications. Please try again later.")}finally{h(!1)}})()},[x]);const p=v.filter(r=>{var o,s,i,n,y;const a=((s=(o=r.job)==null?void 0:o.title)==null?void 0:s.toLowerCase().includes(c.toLowerCase()))||((y=(n=(i=r.job)==null?void 0:i.company)==null?void 0:n.name)==null?void 0:y.toLowerCase().includes(c.toLowerCase())),l=m==="all"||r.status===m;return a&&l}),S=r=>{const l={applied:{color:"bg-blue-100 text-blue-800",icon:J},review:{color:"bg-yellow-100 text-yellow-800",icon:b},interview:{color:"bg-purple-100 text-purple-800",icon:C},offered:{color:"bg-green-100 text-green-800",icon:$},rejected:{color:"bg-red-100 text-red-800",icon:u},withdrawn:{color:"bg-gray-100 text-gray-800",icon:u}}[r]||{color:"bg-gray-100 text-gray-800",icon:b},o=l.icon;return t("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.color} capitalize`,children:[e(o,{className:"h-3 w-3 mr-1"}),r.replace(/-/g," ")]})},F=r=>{const a={year:"numeric",month:"short",day:"numeric"};return new Date(r).toLocaleDateString(void 0,a)};return N?e("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:e(M,{size:"lg"})}):f?e("div",{className:"max-w-4xl mx-auto p-6",children:e("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:t("div",{className:"flex",children:[e("div",{className:"flex-shrink-0",children:e(u,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),e("div",{className:"ml-3",children:e("p",{className:"text-sm text-red-700",children:f})})]})})}):e("div",{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:t("div",{className:"max-w-7xl mx-auto",children:[t("div",{className:"mb-8 text-center",children:[e("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Job Applications"}),e("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Track the status of your job applications in one place"})]}),t("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{className:"relative rounded-lg shadow-sm md:col-span-2",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(L,{className:"h-5 w-5 text-gray-400"})}),e("input",{type:"text",className:"focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white placeholder-gray-500",placeholder:"Search by job title or company...",value:c,onChange:r=>j(r.target.value)})]}),e("div",{className:"relative",children:t("select",{className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white",value:m,onChange:r=>A(r.target.value),children:[e("option",{value:"all",children:"All Statuses"}),e("option",{value:"applied",children:"Applied"}),e("option",{value:"review",children:"Under Review"}),e("option",{value:"interview",children:"Interview"}),e("option",{value:"offered",children:"Offered"}),e("option",{value:"rejected",children:"Rejected"}),e("option",{value:"withdrawn",children:"Withdrawn"})]})})]}),e("div",{className:"space-y-4",children:p.length>0?p.map(r=>{var a,l,o,s,i,n;return t("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 border border-white/20 dark:border-gray-700/50",children:[t("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e("div",{className:"flex-1 min-w-0",children:t("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 flex items-center justify-center",children:e(R,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),t("div",{className:"min-w-0 flex-1",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:e(g,{to:`/job/${(a=r.job)==null?void 0:a.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:((l=r.job)==null?void 0:l.title)||"Job Title N/A"})}),t("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[((s=(o=r.job)==null?void 0:o.company)==null?void 0:s.name)||"Company N/A",((i=r.job)==null?void 0:i.location)&&` â€¢ ${r.job.location}`]})]})]})}),t("div",{className:"mt-4 md:mt-0 md:ml-4 flex flex-col items-start md:items-end space-y-2",children:[t("div",{className:"flex items-center",children:[e("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Applied on:"}),e("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F(r.applied_at)})]}),S(r.status)]})]}),r.cover_letter&&t("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover Letter"}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:r.cover_letter})]}),t("div",{className:"mt-4 flex flex-wrap gap-3",children:[e(g,{to:`/job/${(n=r.job)==null?void 0:n.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View Job"}),r.resume&&e("a",{href:r.resume,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-purple-700 bg-purple-100 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:hover:bg-purple-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:"View Resume"})]})]},r.id)}):t("div",{className:"text-center py-12 bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl shadow-inner",children:[e(b,{className:"mx-auto h-12 w-12 text-gray-400"}),e("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications found"}),e("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c||m!=="all"?"Try adjusting your search or filter criteria.":"You haven't applied to any jobs yet."}),e("div",{className:"mt-6",children:e(g,{to:"/jobs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Jobs"})})]})})]})})};export{P as default};
//# sourceMappingURL=JobApplicationsPage-CqDoTWqi.js.map
