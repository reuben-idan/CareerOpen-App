import{u as e,j as a,a as t,k as r,P as i,W as s,e as l,l as n,f as o,X as c,V as d}from"./index-C0ISbAl6.js";import{r as m}from"./react-vendor-Blpmel2Z.js";import{G as p,P as h}from"./ui-components-Cj_Nz0sg.js";import{c as g,L as u,a as x,O as b}from"./router-wWB8CCN9.js";import{B as y}from"./utils-CE5H4mLI.js";import{b as f,c as v,d as k,e as N,f as w,g as j,a as C,h as S,i as I,F as E,j as M,k as O,S as P}from"./Sidebar-CWqTlwIE.js";import{F as A}from"./BriefcaseIcon-D3vL11TR.js";import{F as L}from"./UserGroupIcon-DwmoUpI7.js";import{F,c as U,a as V,b as B}from"./SparklesIcon-B0d4700B.js";import{F as J}from"./BookmarkIcon-D7jdfNFE.js";import{F as T}from"./BookmarkIcon-BcwDfmGc.js";import{a as $}from"./DocumentTextIcon-8uue8MYA.js";import{F as D}from"./MagnifyingGlassIcon-U1x5WafG.js";import"./ChevronRightIcon-yrNv7oIn.js";function z({title:e,titleId:a,...t},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?m.createElement("title",{id:a},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const H=m.forwardRef(z);function R({title:e,titleId:a,...t},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?m.createElement("title",{id:a},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const W=m.forwardRef(R);function G({title:e,titleId:a,...t},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?m.createElement("title",{id:a},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Y=m.forwardRef(G);function q(e){return p({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(e)}const Z=()=>{const[r,i]=m.useState(!1),{user:s,signOut:l}=e(),n=g();return a("div",{className:"relative",children:[t("button",{onClick:()=>i(!r),className:"flex items-center justify-center text-gray-500 text-xl hover:text-blue-600 focus:outline-none","aria-label":"User Profile Menu",children:t(q,{})}),r&&t("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:a("ul",{className:"py-2",children:[t("li",{children:t(u,{to:`/profile/${null==s?void 0:s.uid}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-blue-600",children:"View Profile"})}),t("li",{children:t(u,{to:"/subscription",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-green-600",children:"Payment on Subscription"})}),t("li",{children:t("button",{onClick:async()=>{try{const e=await l();if(!(null==e?void 0:e.success))throw new Error("Logout was not successful");y.success("Successfully signed out!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),n("/signin")}catch(e){console.error("Sign out error:",e),y.error("Error signing out. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-red-600",children:"Sign Out"})})]})})]})},Q=({isOpen:e,onClose:c})=>{var d,p,h,u;const{user:b,signOut:P}=r(),{theme:D,toggleTheme:z}=i(),H=x(),R=g(),[W,G]=m.useState([]),[Y,q]=m.useState(0),[Z,Q]=m.useState({}),[X,_]=m.useState(!1);m.useEffect(()=>{G([{id:1,type:"job",message:"New job matching your profile",unread:!0},{id:2,type:"connection",message:"John Doe wants to connect",unread:!0}]),q(2),Q({applications:12,interviews:3,savedJobs:25,connections:156,profileViews:89}),_(!1)},[]);const K=[{path:"/feed",icon:s,solidIcon:f,label:"Feed",description:"Discover opportunities",badge:null},{path:"/jobs",icon:A,solidIcon:v,label:"Jobs",description:"Find your next role",badge:Z.applications>0?`${Z.applications} active`:null},{path:"/network",icon:L,solidIcon:k,label:"Network",description:"Connect with professionals",badge:Z.connections>0?`${Z.connections}`:null},{path:"/messages",icon:F,solidIcon:N,label:"Messages",description:"Chat with connections",badge:Y>0?Y:null},{path:"/notifications",icon:U,solidIcon:w,label:"Notifications",description:"Stay updated",badge:Y>0?Y:null}],ee=[{path:`/profile/${null==b?void 0:b.uid}`,icon:C,solidIcon:j,label:"Profile",description:"Manage your profile",badge:Z.profileViews>0?`${Z.profileViews} views`:null},{path:"/saved-jobs",icon:T,solidIcon:J,label:"Saved Jobs",description:"Your bookmarked jobs",badge:Z.savedJobs>0?`${Z.savedJobs}`:null},{path:"/applications",icon:$,solidIcon:S,label:"Applications",description:"Track your applications",badge:Z.applications>0?`${Z.applications}`:null},{path:"/subscription",icon:V,solidIcon:I,label:"Premium",description:"Upgrade your account",premium:!0,badge:X?"Active":"Upgrade"}],ae=[{id:1,label:"Post Job",icon:B,path:"/post-job",premium:!0},{id:2,label:"Create Post",icon:$,path:"/create-post"},{id:3,label:"Upload Resume",icon:$,path:"/upload-resume"},{id:4,label:"View Analytics",icon:E,path:"/analytics",premium:!0}],te=e=>"/feed"===e?"/feed"===H.pathname||"/"===H.pathname:H.pathname.startsWith(e),re=e=>{R(e),c()};return e?a(n,{children:[t("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:c}),t("div",{className:"fixed left-0 top-0 h-full w-80 bg-white dark:bg-gray-900 z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:a("div",{className:"flex flex-col h-full",children:[a("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a("div",{className:"flex items-center space-x-3",children:[t("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:(null==(p=null==(d=null==b?void 0:b.displayName)?void 0:d.charAt(0))?void 0:p.toUpperCase())||(null==(u=null==(h=null==b?void 0:b.email)?void 0:h.charAt(0))?void 0:u.toUpperCase())||"U"}),a("div",{children:[t("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null==b?void 0:b.displayName)||"User"}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:null==b?void 0:b.email})]})]}),t("button",{onClick:c,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:t(l,{className:"h-6 w-6"})})]}),a("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:[t("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Your Activity"}),a("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a("div",{children:[t("div",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:Z.applications}),t("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Applications"})]}),a("div",{children:[t("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:Z.interviews}),t("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Interviews"})]}),a("div",{children:[t("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Z.connections}),t("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connections"})]}),a("div",{children:[t("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:Z.profileViews}),t("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Views"})]})]})]}),t("div",{className:"flex-1 overflow-y-auto",children:a("div",{className:"p-4",children:[a("div",{className:"mb-6",children:[t("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Main Navigation"}),t("div",{className:"space-y-2",children:K.map(e=>{const r=te(e.path)?e.solidIcon:e.icon,i=te(e.path);return a("button",{onClick:()=>re(e.path),className:"w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 "+(i?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a("div",{className:"relative",children:[t(r,{className:"h-5 w-5"}),e.badge&&t("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:e.badge})]}),a("div",{className:"ml-3 flex-1",children:[t("div",{className:"flex items-center justify-between",children:t("span",{className:"font-medium",children:e.label})}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]})]},e.path)})})]}),a("div",{className:"mb-6",children:[t("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Account"}),t("div",{className:"space-y-2",children:ee.map(e=>{const r=te(e.path)?e.solidIcon:e.icon,i=te(e.path);return a("button",{onClick:()=>re(e.path),className:"w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 "+(i?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a("div",{className:"relative",children:[t(r,{className:"h-5 w-5"}),e.badge&&t("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center",children:e.badge})]}),a("div",{className:"ml-3 flex-1",children:[a("div",{className:"flex items-center justify-between",children:[t("span",{className:"font-medium",children:e.label}),e.premium&&t(V,{className:"h-4 w-4 text-yellow-500"})]}),t("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]})]},e.path)})})]}),a("div",{className:"mb-6",children:[t("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),t("div",{className:"space-y-2",children:ae.map(e=>a("button",{onClick:()=>re(e.path),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[t(e.icon,{className:"h-5 w-5"}),t("div",{className:"ml-3 flex-1",children:a("div",{className:"flex items-center justify-between",children:[t("span",{className:"font-medium",children:e.label}),e.premium&&t(V,{className:"h-4 w-4 text-yellow-500"})]})})]},e.id))})]})]})}),t("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a("div",{className:"space-y-2",children:[a("button",{onClick:()=>re("/settings"),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[t(M,{className:"h-5 w-5"}),t("span",{className:"ml-3 font-medium",children:"Settings"})]}),a("button",{onClick:async()=>{try{const e=await P();if(!(null==e?void 0:e.success))throw new Error("Logout was not successful");o.track("user_logout"),R("/signin"),c()}catch(e){console.error("Logout error:",e),y.error("Failed to log out. Please try again.")}},className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200",children:[t(O,{className:"h-5 w-5"}),t("span",{className:"ml-3 font-medium",children:"Sign Out"})]})]})})]})})]}):null},X=()=>{const{user:e}=r(),{theme:c,toggleTheme:d}=i(),p=x(),h=g(),[b,y]=m.useState(!1),[f,v]=m.useState([]),[k,N]=m.useState(!1),[w,j]=m.useState(""),[C,S]=m.useState(0);m.useEffect(()=>{const e=()=>{N(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),m.useEffect(()=>{o.trackPageView(p.pathname,document.title)},[p]);const I=[{path:"/",icon:s,label:"Home"},{path:"/jobs",icon:A,label:"Jobs"},{path:"/my-applications",icon:$,label:"My Applications"},{path:"/network",icon:L,label:"Network"},{path:"/messages",icon:F,label:"Messages"}],E=e=>p.pathname===e;return a(n,{children:[a("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(k?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm":"bg-white dark:bg-gray-900"),children:[t("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a("div",{className:"flex justify-between items-center h-16",children:[a(u,{to:"/",className:"flex items-center space-x-2",children:[t("img",{src:"/logo.svg",alt:"CareerOpen",className:"h-8 w-8"}),t("span",{className:"text-xl font-display font-semibold text-primary-600 dark:text-primary-400",children:"CareerOpen"})]}),t("div",{className:"hidden md:flex items-center space-x-8",children:I.map(e=>a(u,{to:e.path,className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 "+(E(e.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"),children:[t(e.icon,{className:"h-5 w-5"}),t("span",{children:e.label})]},e.path))}),t("div",{className:"flex-1 flex items-center justify-center px-2 lg:ml-6 lg:justify-end",children:t("div",{className:"max-w-lg w-full lg:max-w-xs",children:a("form",{onSubmit:e=>{e.preventDefault(),w.trim()&&(h(`/search?q=${encodeURIComponent(w.trim())}`),o.track("search",{query:w}))},className:"relative",children:[t("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t(D,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),t("input",{type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 dark:focus:placeholder-gray-300 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})})}),a("div",{className:"hidden md:flex items-center space-x-4",children:[t("button",{onClick:d,className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle theme",children:t("dark"===c?Y:W,{className:"h-5 w-5"})}),a("button",{className:"relative p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Notifications",children:[t(U,{className:"h-5 w-5"}),f.length>0&&t("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:f.length})]}),e?t(Z,{}):a("div",{className:"flex items-center space-x-4",children:[t(u,{to:"/login",className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Sign in"}),t(u,{to:"/signup",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Sign up"})]})]}),t("div",{className:"md:hidden",children:t("button",{onClick:()=>y(!b),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle menu",children:t(b?l:H,{className:"h-6 w-6"})})})]})}),b&&t("div",{className:"md:hidden",children:t("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:I.map(e=>a(u,{to:e.path,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium "+(E(e.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"),onClick:()=>y(!1),children:[t(e.icon,{className:"h-5 w-5"}),t("span",{children:e.label})]},e.path))})})]}),t(Q,{isOpen:b,onClose:()=>y(!1)})]})},_=()=>{const[e,r]=m.useState(!1),i=()=>{r(!e)};return a("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[t(X,{onMenuToggle:i}),a("div",{className:"flex flex-1",children:[t(P,{isCollapsed:e,onToggle:i}),a("div",{className:"flex flex-col flex-1",children:[t("main",{className:"flex-1 p-4 overflow-y-auto",children:t(c,{children:t(b,{})})}),t("footer",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:a("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:[t(d,{showDetails:!1,className:"border-0 p-2"}),t("div",{className:"py-2 text-center text-xs text-gray-500 dark:text-gray-400",children:a("p",{children:["© ",(new Date).getFullYear()," CareerOpen. All rights reserved."]})})]})})]})]})]})};_.propTypes={children:h.node};export{_ as default};
//# sourceMappingURL=AppLayout-BDIzB31a.js.map
