import{G as j,e as a,b as e,az as K,ai as h,ao as R,t as T,aA as _,m as L,aB as W,D as E,aC as X,U as J,aD as Z,a0 as V,aE as ee,al as B,aF as ae,ap as re,au as te,a7 as se,aG as le,ad as w,aH as ie,a2 as C,h as H,a4 as oe,V as ne,aI as ce,aJ as de,_ as z,K as me,aK as pe,aL as he,aM as ge,O as ue,P as xe}from"./vendor-DRkyCWVM.js";import{useState as o,useEffect as S}from"react";import{u as fe,e as q,f as Y,c as I,E as ye,H as be}from"./index-LCuuRmLq.js";import{S as ve}from"./Sidebar-C7W-oA_U.js";import"react-dom";const we=()=>{const[c,n]=o(!1),{user:t,signOut:m}=fe(),x=j(),p=()=>n(!c),d=async()=>{try{const i=await m();if(i!=null&&i.success)R.success("Successfully signed out!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),x("/signin");else throw new Error("Logout was not successful")}catch(i){console.error("Sign out error:",i),R.error("Error signing out. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};return a("div",{className:"relative",children:[e("button",{onClick:p,className:"flex items-center justify-center text-gray-500 text-xl hover:text-blue-600 focus:outline-none","aria-label":"User Profile Menu",children:e(K,{})}),c&&e("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:a("ul",{className:"py-2",children:[e("li",{children:e(h,{to:`/profile/${t==null?void 0:t.uid}`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-blue-600",children:"View Profile"})}),e("li",{children:e(h,{to:"/subscription",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-green-600",children:"Payment on Subscription"})}),e("li",{children:e("button",{onClick:d,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-red-600",children:"Sign Out"})})]})})]})},Ne=({isOpen:c,onClose:n})=>{var P,U,M,D;const{user:t,signOut:m}=q(),{theme:x,toggleTheme:p}=Y(),d=T(),i=j(),[Q,N]=o([]),[g,u]=o(0),[l,A]=o({}),[O,k]=o(!1);S(()=>{N([{id:1,type:"job",message:"New job matching your profile",unread:!0},{id:2,type:"connection",message:"John Doe wants to connect",unread:!0}]),u(2),A({applications:12,interviews:3,savedJobs:25,connections:156,profileViews:89}),k(!1)},[]);const f=async()=>{try{const r=await m();if(r!=null&&r.success)I.track("user_logout"),i("/signin"),n();else throw new Error("Logout was not successful")}catch(r){console.error("Logout error:",r),R.error("Failed to log out. Please try again.")}},y=[{path:"/feed",icon:L,solidIcon:_,label:"Feed",description:"Discover opportunities",badge:null},{path:"/jobs",icon:E,solidIcon:W,label:"Jobs",description:"Find your next role",badge:l.applications>0?`${l.applications} active`:null},{path:"/network",icon:J,solidIcon:X,label:"Network",description:"Connect with professionals",badge:l.connections>0?`${l.connections}`:null},{path:"/messages",icon:V,solidIcon:Z,label:"Messages",description:"Chat with connections",badge:g>0?g:null},{path:"/notifications",icon:B,solidIcon:ee,label:"Notifications",description:"Stay updated",badge:g>0?g:null}],s=[{path:`/profile/${t==null?void 0:t.uid}`,icon:re,solidIcon:ae,label:"Profile",description:"Manage your profile",badge:l.profileViews>0?`${l.profileViews} views`:null},{path:"/saved-jobs",icon:se,solidIcon:te,label:"Saved Jobs",description:"Your bookmarked jobs",badge:l.savedJobs>0?`${l.savedJobs}`:null},{path:"/applications",icon:w,solidIcon:le,label:"Applications",description:"Track your applications",badge:l.applications>0?`${l.applications}`:null},{path:"/subscription",icon:C,solidIcon:ie,label:"Premium",description:"Upgrade your account",premium:!0,badge:O?"Active":"Upgrade"}],G=[{id:1,label:"Post Job",icon:oe,path:"/post-job",premium:!0},{id:2,label:"Create Post",icon:w,path:"/create-post"},{id:3,label:"Upload Resume",icon:w,path:"/upload-resume"},{id:4,label:"View Analytics",icon:ne,path:"/analytics",premium:!0}],b=r=>r==="/feed"?d.pathname==="/feed"||d.pathname==="/":d.pathname.startsWith(r),v=r=>{i(r),n()};return c?a(z,{children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:n}),e("div",{className:"fixed left-0 top-0 h-full w-80 bg-white dark:bg-gray-900 z-50 md:hidden transform transition-transform duration-300 ease-in-out",children:a("div",{className:"flex flex-col h-full",children:[a("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a("div",{className:"flex items-center space-x-3",children:[e("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:((U=(P=t==null?void 0:t.displayName)==null?void 0:P.charAt(0))==null?void 0:U.toUpperCase())||((D=(M=t==null?void 0:t.email)==null?void 0:M.charAt(0))==null?void 0:D.toUpperCase())||"U"}),a("div",{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(t==null?void 0:t.displayName)||"User"}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email})]})]}),e("button",{onClick:n,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800",children:e(H,{className:"h-6 w-6"})})]}),a("div",{className:"p-4 bg-gray-50 dark:bg-gray-800",children:[e("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Your Activity"}),a("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a("div",{children:[e("div",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:l.applications}),e("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Applications"})]}),a("div",{children:[e("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:l.interviews}),e("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Interviews"})]}),a("div",{children:[e("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:l.connections}),e("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connections"})]}),a("div",{children:[e("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:l.profileViews}),e("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Views"})]})]})]}),e("div",{className:"flex-1 overflow-y-auto",children:a("div",{className:"p-4",children:[a("div",{className:"mb-6",children:[e("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Main Navigation"}),e("div",{className:"space-y-2",children:y.map(r=>{const $=b(r.path)?r.solidIcon:r.icon,F=b(r.path);return a("button",{onClick:()=>v(r.path),className:`w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 ${F?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a("div",{className:"relative",children:[e($,{className:"h-5 w-5"}),r.badge&&e("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r.badge})]}),a("div",{className:"ml-3 flex-1",children:[e("div",{className:"flex items-center justify-between",children:e("span",{className:"font-medium",children:r.label})}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description})]})]},r.path)})})]}),a("div",{className:"mb-6",children:[e("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Account"}),e("div",{className:"space-y-2",children:s.map(r=>{const $=b(r.path)?r.solidIcon:r.icon,F=b(r.path);return a("button",{onClick:()=>v(r.path),className:`w-full flex items-center px-3 py-3 rounded-lg text-left transition-all duration-200 ${F?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a("div",{className:"relative",children:[e($,{className:"h-5 w-5"}),r.badge&&e("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center",children:r.badge})]}),a("div",{className:"ml-3 flex-1",children:[a("div",{className:"flex items-center justify-between",children:[e("span",{className:"font-medium",children:r.label}),r.premium&&e(C,{className:"h-4 w-4 text-yellow-500"})]}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description})]})]},r.path)})})]}),a("div",{className:"mb-6",children:[e("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),e("div",{className:"space-y-2",children:G.map(r=>a("button",{onClick:()=>v(r.path),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[e(r.icon,{className:"h-5 w-5"}),e("div",{className:"ml-3 flex-1",children:a("div",{className:"flex items-center justify-between",children:[e("span",{className:"font-medium",children:r.label}),r.premium&&e(C,{className:"h-4 w-4 text-yellow-500"})]})})]},r.id))})]})]})}),e("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a("div",{className:"space-y-2",children:[a("button",{onClick:()=>v("/settings"),className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200",children:[e(ce,{className:"h-5 w-5"}),e("span",{className:"ml-3 font-medium",children:"Settings"})]}),a("button",{onClick:f,className:"w-full flex items-center px-3 py-3 rounded-lg text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-200",children:[e(de,{className:"h-5 w-5"}),e("span",{className:"ml-3 font-medium",children:"Sign Out"})]})]})})]})})]}):null},ke=()=>{const{user:c}=q(),{theme:n,toggleTheme:t}=Y(),m=T(),x=j(),[p,d]=o(!1),[i,Q]=o([]),[N,g]=o(!1),[u,l]=o(""),[A,O]=o(0);S(()=>{const s=()=>{g(window.scrollY>0)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),S(()=>{I.trackPageView(m.pathname,document.title)},[m]);const k=s=>{s.preventDefault(),u.trim()&&(x(`/search?q=${encodeURIComponent(u.trim())}`),I.track("search",{query:u}))},f=[{path:"/",icon:L,label:"Home"},{path:"/jobs",icon:E,label:"Jobs"},{path:"/my-applications",icon:w,label:"My Applications"},{path:"/network",icon:J,label:"Network"},{path:"/messages",icon:V,label:"Messages"}],y=s=>m.pathname===s;return a(z,{children:[a("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${N?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm":"bg-white dark:bg-gray-900"}`,children:[e("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a("div",{className:"flex justify-between items-center h-16",children:[a(h,{to:"/",className:"flex items-center space-x-2",children:[e("img",{src:"/logo.svg",alt:"CareerOpen",className:"h-8 w-8"}),e("span",{className:"text-xl font-display font-semibold text-primary-600 dark:text-primary-400",children:"CareerOpen"})]}),e("div",{className:"hidden md:flex items-center space-x-8",children:f.map(s=>a(h,{to:s.path,className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${y(s.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,children:[e(s.icon,{className:"h-5 w-5"}),e("span",{children:s.label})]},s.path))}),e("div",{className:"flex-1 flex items-center justify-center px-2 lg:ml-6 lg:justify-end",children:e("div",{className:"max-w-lg w-full lg:max-w-xs",children:a("form",{onSubmit:k,className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(me,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),e("input",{type:"text",value:u,onChange:s=>l(s.target.value),placeholder:"Search...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md leading-5 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 dark:focus:placeholder-gray-300 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]})})}),a("div",{className:"hidden md:flex items-center space-x-4",children:[e("button",{onClick:t,className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle theme",children:n==="dark"?e(pe,{className:"h-5 w-5"}):e(he,{className:"h-5 w-5"})}),a("button",{className:"relative p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Notifications",children:[e(B,{className:"h-5 w-5"}),i.length>0&&e("span",{className:"absolute top-0 right-0 h-4 w-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:i.length})]}),c?e(we,{}):a("div",{className:"flex items-center space-x-4",children:[e(h,{to:"/login",className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400",children:"Sign in"}),e(h,{to:"/signup",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Sign up"})]})]}),e("div",{className:"md:hidden",children:e("button",{onClick:()=>d(!p),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle menu",children:p?e(H,{className:"h-6 w-6"}):e(ge,{className:"h-6 w-6"})})})]})}),p&&e("div",{className:"md:hidden",children:e("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:f.map(s=>a(h,{to:s.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium ${y(s.path)?"text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20"}`,onClick:()=>d(!1),children:[e(s.icon,{className:"h-5 w-5"}),e("span",{children:s.label})]},s.path))})})]}),e(Ne,{isOpen:p,onClose:()=>d(!1)})]})},$e=()=>{const[c,n]=o(!1),t=()=>{n(!c)};return a("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[e(ke,{onMenuToggle:t}),a("div",{className:"flex flex-1",children:[e(ve,{isCollapsed:c,onToggle:t}),a("div",{className:"flex flex-col flex-1",children:[e("main",{className:"flex-1 p-4 overflow-y-auto",children:e(ye,{children:e(ue,{})})}),e("footer",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:a("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:[e(be,{showDetails:!1,className:"border-0 p-2"}),e("div",{className:"py-2 text-center text-xs text-gray-500 dark:text-gray-400",children:a("p",{children:["Â© ",new Date().getFullYear()," CareerOpen. All rights reserved."]})})]})})]})]})]})};$e.propTypes={children:xe.node};export{$e as default};
//# sourceMappingURL=AppLayout-DcItJkZi.js.map
