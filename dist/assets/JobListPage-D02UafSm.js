import{W as P,o as a,m as e,Y as R,X as L,K as A,T,Z as B}from"./vendor-D-WVJ8WC.js";import{useState as f,useEffect as I}from"react";import{u as E,P as M}from"./Pagination-Bh1qabxQ.js";import{J as O}from"./JobCard-BAQ51bRX.js";import{L as $}from"./index-DalgjJJ3.js";import{E as z}from"./ErrorMessage-m7jpLoxd.js";import"react-dom";const Z=()=>{const[r,b]=P(),[g,v]=f(!1),{jobs:c,isLoading:m,error:d,fetchJobs:y,currentPage:N,totalPages:x,totalCount:p}=E(),[l,h]=f({search:r.get("search")||"",location:r.get("location")||"",job_type:r.get("job_type")||"",company:r.get("company")||"",min_salary:r.get("min_salary")||"",is_remote:r.get("is_remote")==="true"||!1,ordering:r.get("ordering")||"-created_at",page:parseInt(r.get("page")||"1"),page_size:10});I(()=>{(async()=>{await y(l)})();const s=new URLSearchParams;Object.entries(l).forEach(([o,n])=>{n!==""&&n!==!1&&s.append(o,n)}),b(s)},[l,y,b]);const w=t=>{const{name:s,value:o}=t.target;h(n=>({...n,[s]:o,page:1}))},i=t=>{const{name:s,value:o,type:n,checked:F}=t.target;h(J=>({...J,[s]:n==="checkbox"?F:o,page:1}))},k=t=>{h(s=>({...s,page:t})),window.scrollTo(0,0)},u=()=>{h({search:"",location:"",job_type:"",company:"",min_salary:"",is_remote:!1,ordering:"-created_at",page:1,page_size:10})},S=[{value:"",label:"All Types"},{value:"full_time",label:"Full-time"},{value:"part_time",label:"Part-time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"temporary",label:"Temporary"}],_=[{value:"-created_at",label:"Most Recent"},{value:"created_at",label:"Oldest"},{value:"-salary",label:"Highest Salary"},{value:"salary",label:"Lowest Salary"}],j=t=>{console.log("Save job:",t)},C=t=>{console.log("Apply to job:",t)};return a("div",{className:"container mx-auto px-4 py-8",children:[a("div",{className:"mb-8",children:[a("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[p," ",p===1?"Job":"Jobs"," Available"]}),e("p",{className:"text-gray-600 dark:text-gray-300",children:"Find your dream job today"})]}),a("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6",children:[a("div",{className:"flex flex-col md:flex-row gap-4",children:[a("div",{className:"flex-1 relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(R,{className:"h-5 w-5 text-gray-400"})}),e(Input,{type:"text",name:"search",placeholder:"Search by job title, company, or keywords",value:l.search,onChange:w,className:"pl-10 w-full"})]}),e("div",{className:"flex items-center",children:a(Button,{variant:"outline",onClick:()=>v(!g),className:"flex items-center gap-2",children:[e(L,{className:"h-5 w-5"}),g?"Hide Filters":"Filters"]})})]}),g&&e("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),a("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(A,{className:"h-5 w-5 text-gray-400"})}),e(Input,{type:"text",name:"location",placeholder:"City, state, or remote",value:l.location,onChange:i,className:"pl-10 w-full"})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),a("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(T,{className:"h-5 w-5 text-gray-400"})}),e(Select,{name:"job_type",value:l.job_type,onChange:i,className:"pl-10 w-full",children:S.map(t=>e("option",{value:t.value,children:t.label},t.value))})]})]}),a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min. Salary"}),a("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(B,{className:"h-5 w-5 text-gray-400"})}),e(Input,{type:"number",name:"min_salary",placeholder:"Min. salary",value:l.min_salary,onChange:i,min:"0",step:"1000",className:"pl-10 w-full"})]})]}),a("div",{className:"flex items-end",children:[a("div",{className:"flex items-center",children:[e(Checkbox,{id:"is_remote",name:"is_remote",checked:l.is_remote,onChange:i,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]}),e(Button,{variant:"ghost",onClick:u,className:"ml-auto text-sm",children:"Clear all"})]})]})})]}),a("div",{className:"flex flex-col lg:flex-row gap-6",children:[a("div",{className:"lg:w-2/3",children:[a("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[a("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 sm:mb-0",children:["Showing ",c.length," of ",p," jobs"]}),a("div",{className:"flex items-center",children:[e("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),e(Select,{id:"sort",name:"ordering",value:l.ordering,onChange:i,className:"text-sm",children:_.map(t=>e("option",{value:t.value,children:t.label},t.value))})]})]}),m&&a("div",{className:"flex justify-center items-center py-12",children:[e($,{size:"lg"}),e("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading jobs..."})]}),d&&!m&&e(z,{message:d,onRetry:()=>y(l),className:"my-8"}),!m&&!d&&c.length===0&&a("div",{className:"text-center py-12",children:[e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),e("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter to find what you're looking for."}),e(Button,{variant:"outline",onClick:u,className:"mt-4",children:"Clear all filters"})]}),!m&&!d&&c.length>0&&a("div",{className:"space-y-4",children:[c.map(t=>e(O,{job:t,onSave:j,onApply:C,isSaved:!1},t.id)),x>1&&e("div",{className:"mt-8 flex justify-center",children:e(M,{currentPage:N,totalPages:x,onPageChange:k})})]})]}),e("div",{className:"lg:w-1/3",children:a("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 sticky top-4",children:[e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Job Alerts"}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Get notified when new jobs match your search criteria."}),e(Button,{variant:"primary",className:"w-full",children:"Create Job Alert"}),a("div",{className:"mt-8",children:[e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Save Your Search"}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Save this search to get notified when new jobs are posted."}),e(Button,{variant:"outline",className:"w-full",children:"Save Search"})]})]})})]})]})};export{Z as default};
//# sourceMappingURL=JobListPage-D02UafSm.js.map
