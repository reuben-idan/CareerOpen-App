import{r as d,f as S,j as e,g as C,L as F}from"./index-CAXHRMTp.js";import{j as J}from"./jobService-DXZpNyIP.js";import{J as z}from"./JobCard-7ROZexxw.js";import{J as M}from"./JobSearch-D6rfd6Gx.js";import{S as T}from"./Sidebar-Brz01GW9.js";import"./glassmorphism-C2pvVsEZ.js";import"./NotificationFilter-DIKgHltS.js";import{E as P,G as u}from"./GlassCard-CDO2fZY3.js";import{F as R}from"./FunnelIcon-BZ1p_qoe.js";import"./MapPinIcon-KPVKNJnJ.js";import"./BriefcaseIcon-CX5QZVLS.js";import"./ClockIcon-Wxa_T0o6.js";import"./BookmarkIcon-p-mq1GNY.js";import"./BookmarkIcon-BStJlOfA.js";import"./MagnifyingGlassIcon-BGPFRbxD.js";import"./SparklesIcon-B8gEewL6.js";import"./DocumentTextIcon-RVnhu_4_.js";import"./UserGroupIcon-BSH-_fCa.js";import"./ChevronRightIcon-BM1XR6Uj.js";import"./ShareIcon-C0j_6btY.js";import"./UserPlusIcon-DBG4Opr5.js";import"./ImageUpload-CZpPxOCX.js";const te=()=>{const[r,N]=d.useState({results:[],count:0}),[v,b]=d.useState(!0),[p,j]=d.useState(null),[i,f]=S(),[x,k]=d.useState(!1),[a,c]=d.useState({search:i.get("search")||"",location:i.get("location")||"",job_type:i.get("job_type")||"",company:i.get("company")||"",min_salary:i.get("min_salary")||"",max_salary:i.get("max_salary")||"",is_remote:i.get("is_remote")==="true"||!1,skills:i.get("skills")||"",ordering:i.get("ordering")||"-created_at",page:parseInt(i.get("page")||"1"),page_size:10});d.useEffect(()=>{(async()=>{try{b(!0),j(null);const t=new URLSearchParams;Object.entries(a).forEach(([l,m])=>{m!==""&&m!==!1&&t.append(l,m)}),f(t);const o=await J.searchJobs(t.toString());N(o.data)}catch(t){console.error("Error fetching jobs",t),j("Failed to load jobs. Please try again later.")}finally{b(!1)}})()},[a,f]);const w=s=>{c(t=>({...t,search:s,page:1}))},n=s=>{const{name:t,value:o,type:l,checked:m}=s.target;c(_=>({..._,[t]:l==="checkbox"?m:o,page:1}))},h=s=>{c(t=>({...t,page:s})),window.scrollTo(0,0)},y=()=>{c({search:"",location:"",job_type:"",company:"",min_salary:"",max_salary:"",is_remote:!1,skills:"",ordering:"-created_at",page:1,page_size:10})},g=Object.entries(a).some(([s,t])=>t&&!["page","page_size","ordering"].includes(s)&&t!==(s==="is_remote"?!1:""));return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex",children:[e.jsx(T,{}),e.jsx("div",{className:"flex-1 ml-0 md:ml-64",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Find Your Dream Job"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Browse through ",r.count||0," job listings and find the perfect match for your skills"]})]})})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(M,{initialQuery:a.search,onSearch:w})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Filters"}),e.jsxs("button",{onClick:()=>k(!x),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx(R,{className:"h-5 w-5"}),x?"Hide Filters":"Show Filters"]})]}),x&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"job_type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),e.jsxs("select",{id:"job_type",name:"job_type",value:a.job_type,onChange:n,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"full_time",children:"Full Time"}),e.jsx("option",{value:"part_time",children:"Part Time"}),e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"internship",children:"Internship"}),e.jsx("option",{value:"temporary",children:"Temporary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),e.jsx("input",{type:"text",id:"location",name:"location",value:a.location,onChange:n,placeholder:"City, State, or Remote",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",id:"min_salary",name:"min_salary",value:a.min_salary,onChange:n,placeholder:"Min",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsx("input",{type:"number",id:"max_salary",name:"max_salary",value:a.max_salary,onChange:n,placeholder:"Max",className:"w-1/2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_remote",name:"is_remote",type:"checkbox",checked:a.is_remote,onChange:n,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"}),e.jsx("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]})})]}),g&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[Object.entries(a).map(([s,t])=>{if(!t||s==="page"||s==="page_size"||s==="ordering"||s==="is_remote"&&!t)return null;let o=t;return s==="is_remote"&&(o="Remote"),s==="job_type"&&(o=t.split("_").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:[s.split("_").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),": ",o,e.jsx("button",{onClick:()=>{c(l=>({...l,[s]:s==="is_remote"?!1:"",page:1}))},className:"ml-2 text-blue-500 hover:text-blue-700",children:e.jsx(C,{className:"h-3 w-3"})})]},s)}),e.jsx("button",{onClick:y,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Clear all filters"})]})]})}),e.jsx("div",{className:"mb-8",children:v?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(F,{size:"lg"})}):p?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-red-700 dark:text-red-300",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Retry"})]}):r.results&&r.results.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-medium",children:(a.page-1)*a.page_size+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(a.page*a.page_size,r.count)})," ","of ",e.jsx("span",{className:"font-medium",children:r.count})," jobs"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),e.jsxs("select",{id:"sort",name:"ordering",value:a.ordering,onChange:n,className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[e.jsx("option",{value:"-created_at",children:"Newest"}),e.jsx("option",{value:"created_at",children:"Oldest"}),e.jsx("option",{value:"-salary_max",children:"Salary: High to Low"}),e.jsx("option",{value:"salary_min",children:"Salary: Low to High"}),e.jsx("option",{value:"title",children:"Title: A-Z"}),e.jsx("option",{value:"-title",children:"Title: Z-A"})]})]})]}),e.jsx("div",{className:"space-y-4",children:r.results.map(s=>e.jsx(z,{job:s,onSave:null,isSaved:!1},s.id))}),r.count>a.page_size&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("nav",{className:"flex items-center gap-2","aria-label":"Pagination",children:[e.jsx("button",{onClick:()=>h(Math.max(1,a.page-1)),disabled:a.page===1,className:`px-3 py-1 rounded-md ${a.page===1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:"Previous"}),Array.from({length:Math.ceil(r.count/a.page_size)},(s,t)=>t+1).filter(s=>s===1||s===a.page||s===a.page-1||s===a.page+1||s===Math.ceil(r.count/a.page_size)).map((s,t,o)=>t>0&&o[t-1]!==s-1?e.jsx("span",{className:"px-3 py-1",children:"..."},`ellipsis-${s}`):e.jsx("button",{onClick:()=>h(s),className:`px-3 py-1 rounded-md ${a.page===s?"bg-blue-600 text-white":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:s},s)),e.jsx("button",{onClick:()=>h(Math.min(Math.ceil(r.count/a.page_size),a.page+1)),disabled:a.page>=Math.ceil(r.count/a.page_size),className:`px-3 py-1 rounded-md ${a.page>=Math.ceil(r.count/a.page_size)?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"}`,children:"Next"})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:g?"Try adjusting your search or filter criteria.":"There are currently no job listings available. Please check back later."}),g&&e.jsx("button",{onClick:y,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Clear all filters"})]})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Featured Companies"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card p-6",children:e.jsx(P,{})})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"What Our Users Say"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl",children:"JD"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"John Doe"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Senior Developer"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:'"Found my dream job within a week of using CareerOpen. The application process was seamless!"'})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold text-xl",children:"AS"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Alex Smith"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Product Manager"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:'"The job matching algorithm is spot on. I received offers that perfectly matched my skills and experience."'})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold text-xl",children:"MJ"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Maria Johnson"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"UX Designer"})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:'"The application tracking system is a game-changer. I could easily keep track of all my applications in one place."'})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-8 md:p-12 text-center text-white",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to find your next opportunity?"}),e.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Join thousands of professionals who found their dream jobs through CareerOpen"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"px-6 py-3 bg-white text-blue-700 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:"Browse Jobs"}),e.jsx("button",{className:"px-6 py-3 border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:bg-opacity-10 transition-colors",children:"Create Profile"})]})]})]})})]})};export{te as default};
//# sourceMappingURL=JobList-BPvI_Y0z.js.map
