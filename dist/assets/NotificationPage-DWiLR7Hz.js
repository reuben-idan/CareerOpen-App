import{f as e,a as t,L as a,j as r}from"./index-C0ISbAl6.js";import{r as i}from"./react-vendor-Blpmel2Z.js";import{N as s,a as o}from"./NotificationFilter-D7DGd0Wv.js";import{c as n}from"./SparklesIcon-B0d4700B.js";import{S as c}from"./Sidebar-CWqTlwIE.js";import"./utils-CE5H4mLI.js";import"./router-wWB8CCN9.js";import"./ui-components-Cj_Nz0sg.js";import"./BriefcaseIcon-D3vL11TR.js";import"./UserPlusIcon-D1VRgE0K.js";import"./DocumentTextIcon-8uue8MYA.js";import"./UserGroupIcon-DwmoUpI7.js";import"./BookmarkIcon-D7jdfNFE.js";import"./BookmarkIcon-BcwDfmGc.js";import"./ChevronRightIcon-yrNv7oIn.js";function l({title:e,titleId:t,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d=i.forwardRef(l),m=()=>{const[c,l]=i.useState([]),[m,g]=i.useState(!0),[f,h]=i.useState(null),[p,u]=i.useState("all");i.useEffect(()=>{x()},[]);const x=async()=>{try{g(!0);const t=await fetch("/api/notifications"),a=await t.json();l(a),e.track("view_notifications")}catch(t){h("Failed to load notifications"),e.track("notification_error",{error:t.message})}finally{g(!1)}},y=async t=>{try{await fetch(`/api/notifications/${t}/read`,{method:"PUT"}),l(e=>e.map(e=>e.id===t?{...e,read:!0}:e)),e.track("mark_notification_read",{notificationId:t})}catch(a){console.error("Failed to mark notification as read:",a)}},b=c.filter(e=>"all"===p||e.type===p);if(m)return t("div",{className:"min-h-screen flex items-center justify-center",children:t(a,{size:"lg"})});if(f)return t("div",{className:"min-h-screen flex items-center justify-center px-4",children:r("div",{className:"max-w-md w-full text-center",children:[t("div",{className:"text-red-600 dark:text-red-400 mb-4",children:t(d,{className:"h-12 w-12 mx-auto"})}),t("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Notifications"}),t("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:f}),t("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Try Again"})]})});const N=c.filter(e=>!e.read).length;return t("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:t("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[t("div",{className:"lg:col-span-3",children:t(s,{activeFilter:p,onFilterChange:t=>{u(t),e.track("notifications_filter",{filter:t})}})}),t("div",{className:"mt-8 lg:mt-0 lg:col-span-9",children:r("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden",children:[r("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[t("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),N>0&&r("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[N," unread"]})]}),b.length>0?t("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:b.map(e=>t(o,{notification:e,onMarkAsRead:y},e.id))}):r("div",{className:"p-8 text-center",children:[t(n,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications"}),t("p",{className:"text-gray-500 dark:text-gray-400",children:"all"===p?"You're all caught up!":`No ${p} notifications`})]})]})})]})})})},g=[{id:1,message:"You have a new connection request from Jane Doe",timestamp:"2 hours ago",category:"connection_requests"},{id:2,message:"John has applied to your job listing",timestamp:"1 day ago",category:"job_updates"},{id:3,message:"You received a new message from Sarah",timestamp:"3 days ago",category:"messages"},{id:4,message:"Your job application was viewed by an employer",timestamp:"5 days ago",category:"job_updates"}],f=()=>{const[e,a]=i.useState("all"),[o,n]=i.useState(g);return i.useEffect(()=>{n("all"===e?g:g.filter(t=>t.category===e))},[e]),r("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[t(c,{}),t("div",{className:"flex-1 ml-0 md:ml-64",children:r("div",{className:"container mx-auto py-8 px-4",children:[t("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Notifications"}),t(s,{selectedFilter:e,onFilterChange:a}),t(m,{notifications:o})]})})]})};export{f as default};
//# sourceMappingURL=NotificationPage-DWiLR7Hz.js.map
