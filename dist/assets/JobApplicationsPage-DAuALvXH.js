import{u as e,a as r,L as t,j as a,Q as l,g as o}from"./index-C0ISbAl6.js";import{r as i}from"./react-vendor-Blpmel2Z.js";import{L as s}from"./router-wWB8CCN9.js";import{j as n}from"./jobService-BkGZEzDV.js";import{F as d}from"./MagnifyingGlassIcon-U1x5WafG.js";import{F as c}from"./BriefcaseIcon-D3vL11TR.js";import{a as m,F as u}from"./DocumentTextIcon-8uue8MYA.js";import{F as p}from"./ClockIcon-D6KXJook.js";import"./utils-CE5H4mLI.js";import"./ui-components-Cj_Nz0sg.js";const g=()=>{const[g,b]=i.useState([]),[h,x]=i.useState(!0),[f,v]=i.useState(null),[y,w]=i.useState(""),[N,k]=i.useState("all"),{user:j}=e();i.useEffect(()=>{j&&(async()=>{try{x(!0);const e=await n.getUserApplications();b(Array.isArray(e)?e:(null==e?void 0:e.results)||[])}catch(e){console.error("Error fetching applications:",e),v("Failed to load job applications. Please try again later.")}finally{x(!1)}})()},[j]);const A=g.filter(e=>{var r,t,a,l,o;const i=(null==(t=null==(r=e.job)?void 0:r.title)?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null==(o=null==(l=null==(a=e.job)?void 0:a.company)?void 0:l.name)?void 0:o.toLowerCase().includes(y.toLowerCase())),s="all"===N||e.status===N;return i&&s}),C=e=>{const t={applied:{color:"bg-blue-100 text-blue-800",icon:p},review:{color:"bg-yellow-100 text-yellow-800",icon:m},interview:{color:"bg-purple-100 text-purple-800",icon:u},offered:{color:"bg-green-100 text-green-800",icon:o},rejected:{color:"bg-red-100 text-red-800",icon:l},withdrawn:{color:"bg-gray-100 text-gray-800",icon:l}}[e]||{color:"bg-gray-100 text-gray-800",icon:m},i=t.icon;return a("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.color} capitalize`,children:[r(i,{className:"h-3 w-3 mr-1"}),e.replace(/-/g," ")]})};return r("div",h?{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:r(t,{size:"lg"})}:f?{className:"max-w-4xl mx-auto p-6",children:r("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:a("div",{className:"flex",children:[r("div",{className:"flex-shrink-0",children:r(l,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),r("div",{className:"ml-3",children:r("p",{className:"text-sm text-red-700",children:f})})]})})}:{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:a("div",{className:"max-w-7xl mx-auto",children:[a("div",{className:"mb-8 text-center",children:[r("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Job Applications"}),r("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Track the status of your job applications in one place"})]}),a("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a("div",{className:"relative rounded-lg shadow-sm md:col-span-2",children:[r("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r(d,{className:"h-5 w-5 text-gray-400"})}),r("input",{type:"text",className:"focus:ring-2 focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white placeholder-gray-500",placeholder:"Search by job title or company...",value:y,onChange:e=>w(e.target.value)})]}),r("div",{className:"relative",children:a("select",{className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-gray-900 dark:text-white",value:N,onChange:e=>k(e.target.value),children:[r("option",{value:"all",children:"All Statuses"}),r("option",{value:"applied",children:"Applied"}),r("option",{value:"review",children:"Under Review"}),r("option",{value:"interview",children:"Interview"}),r("option",{value:"offered",children:"Offered"}),r("option",{value:"rejected",children:"Rejected"}),r("option",{value:"withdrawn",children:"Withdrawn"})]})})]}),r("div",{className:"space-y-4",children:A.length>0?A.map(e=>{var t,l,o,i,n,d,m;return a("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 border border-white/20 dark:border-gray-700/50",children:[a("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[r("div",{className:"flex-1 min-w-0",children:a("div",{className:"flex items-center space-x-3",children:[r("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/50 dark:to-indigo-900/50 flex items-center justify-center",children:r(c,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a("div",{className:"min-w-0 flex-1",children:[r("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:r(s,{to:`/job/${null==(t=e.job)?void 0:t.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:(null==(l=e.job)?void 0:l.title)||"Job Title N/A"})}),a("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(null==(i=null==(o=e.job)?void 0:o.company)?void 0:i.name)||"Company N/A",(null==(n=e.job)?void 0:n.location)&&` â€¢ ${e.job.location}`]})]})]})}),a("div",{className:"mt-4 md:mt-0 md:ml-4 flex flex-col items-start md:items-end space-y-2",children:[a("div",{className:"flex items-center",children:[r("span",{className:"text-sm text-gray-500 dark:text-gray-400 mr-2",children:"Applied on:"}),r("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(m=e.applied_at,new Date(m).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))})]}),C(e.status)]})]}),e.cover_letter&&a("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[r("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover Letter"}),r("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.cover_letter})]}),a("div",{className:"mt-4 flex flex-wrap gap-3",children:[r(s,{to:`/job/${null==(d=e.job)?void 0:d.id}`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-blue-700 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View Job"}),e.resume&&r("a",{href:e.resume,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full text-purple-700 bg-purple-100 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:hover:bg-purple-900/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:"View Resume"})]})]},e.id)}):a("div",{className:"text-center py-12 bg-white/60 dark:bg-gray-800/60 backdrop-blur-lg rounded-2xl shadow-inner",children:[r(m,{className:"mx-auto h-12 w-12 text-gray-400"}),r("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications found"}),r("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:y||"all"!==N?"Try adjusting your search or filter criteria.":"You haven't applied to any jobs yet."}),r("div",{className:"mt-6",children:r(s,{to:"/jobs",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Jobs"})})]})})]})})};export{g as default};
//# sourceMappingURL=JobApplicationsPage-DAuALvXH.js.map
