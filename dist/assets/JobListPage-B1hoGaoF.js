import{j as e,a,L as t}from"./index-C0ISbAl6.js";import{r as l}from"./react-vendor-Blpmel2Z.js";import{d as r}from"./router-wWB8CCN9.js";import{u as s,P as i}from"./Pagination-3Wq0ois1.js";import{F as n,J as o}from"./JobCard-Djlr5vl2.js";import{E as c}from"./ErrorMessage-CDRXKEvN.js";import{F as m}from"./MagnifyingGlassIcon-U1x5WafG.js";import{F as d}from"./FunnelIcon-B05w5lZ5.js";import{F as h}from"./MapPinIcon-zv-1fgIR.js";import{F as g}from"./BriefcaseIcon-D3vL11TR.js";import"./utils-CE5H4mLI.js";import"./ui-components-Cj_Nz0sg.js";import"./ChevronRightIcon-yrNv7oIn.js";import"./ClockIcon-D6KXJook.js";import"./BookmarkIcon-D7jdfNFE.js";import"./BookmarkIcon-BcwDfmGc.js";const p=()=>{const[p,y]=r(),[u,x]=l.useState(!1),{jobs:b,isLoading:v,error:f,fetchJobs:N,currentPage:j,totalPages:w,totalCount:k}=s(),[_,C]=l.useState({search:p.get("search")||"",location:p.get("location")||"",job_type:p.get("job_type")||"",company:p.get("company")||"",min_salary:p.get("min_salary")||"",is_remote:"true"===p.get("is_remote")||!1,ordering:p.get("ordering")||"-created_at",page:parseInt(p.get("page")||"1"),page_size:10});l.useEffect(()=>{(async()=>{await N(_)})();const e=new URLSearchParams;Object.entries(_).forEach(([a,t])=>{""!==t&&!1!==t&&e.append(a,t)}),y(e)},[_,N,y]);const S=e=>{const{name:a,value:t,type:l,checked:r}=e.target;C(e=>({...e,[a]:"checkbox"===l?r:t,page:1}))},F=()=>{C({search:"",location:"",job_type:"",company:"",min_salary:"",is_remote:!1,ordering:"-created_at",page:1,page_size:10})},I=e=>{console.log("Save job:",e)},P=e=>{console.log("Apply to job:",e)};return e("div",{className:"container mx-auto px-4 py-8",children:[e("div",{className:"mb-8",children:[e("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[k," ",1===k?"Job":"Jobs"," Available"]}),a("p",{className:"text-gray-600 dark:text-gray-300",children:"Find your dream job today"})]}),e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 mb-6",children:[e("div",{className:"flex flex-col md:flex-row gap-4",children:[e("div",{className:"flex-1 relative",children:[a("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a(m,{className:"h-5 w-5 text-gray-400"})}),a(Input,{type:"text",name:"search",placeholder:"Search by job title, company, or keywords",value:_.search,onChange:e=>{const{name:a,value:t}=e.target;C(e=>({...e,[a]:t,page:1}))},className:"pl-10 w-full"})]}),a("div",{className:"flex items-center",children:e(Button,{variant:"outline",onClick:()=>x(!u),className:"flex items-center gap-2",children:[a(d,{className:"h-5 w-5"}),u?"Hide Filters":"Filters"]})})]}),u&&a("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),e("div",{className:"relative",children:[a("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a(h,{className:"h-5 w-5 text-gray-400"})}),a(Input,{type:"text",name:"location",placeholder:"City, state, or remote",value:_.location,onChange:S,className:"pl-10 w-full"})]})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Job Type"}),e("div",{className:"relative",children:[a("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a(g,{className:"h-5 w-5 text-gray-400"})}),a(Select,{name:"job_type",value:_.job_type,onChange:S,className:"pl-10 w-full",children:[{value:"",label:"All Types"},{value:"full_time",label:"Full-time"},{value:"part_time",label:"Part-time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"temporary",label:"Temporary"}].map(e=>a("option",{value:e.value,children:e.label},e.value))})]})]}),e("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Min. Salary"}),e("div",{className:"relative",children:[a("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a(n,{className:"h-5 w-5 text-gray-400"})}),a(Input,{type:"number",name:"min_salary",placeholder:"Min. salary",value:_.min_salary,onChange:S,min:"0",step:"1000",className:"pl-10 w-full"})]})]}),e("div",{className:"flex items-end",children:[e("div",{className:"flex items-center",children:[a(Checkbox,{id:"is_remote",name:"is_remote",checked:_.is_remote,onChange:S,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a("label",{htmlFor:"is_remote",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remote Only"})]}),a(Button,{variant:"ghost",onClick:F,className:"ml-auto text-sm",children:"Clear all"})]})]})})]}),e("div",{className:"flex flex-col lg:flex-row gap-6",children:[e("div",{className:"lg:w-2/3",children:[e("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 sm:mb-0",children:["Showing ",b.length," of ",k," jobs"]}),e("div",{className:"flex items-center",children:[a("label",{htmlFor:"sort",className:"mr-2 text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),a(Select,{id:"sort",name:"ordering",value:_.ordering,onChange:S,className:"text-sm",children:[{value:"-created_at",label:"Most Recent"},{value:"created_at",label:"Oldest"},{value:"-salary",label:"Highest Salary"},{value:"salary",label:"Lowest Salary"}].map(e=>a("option",{value:e.value,children:e.label},e.value))})]})]}),v&&e("div",{className:"flex justify-center items-center py-12",children:[a(t,{size:"lg"}),a("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading jobs..."})]}),f&&!v&&a(c,{message:f,onRetry:()=>N(_),className:"my-8"}),!v&&!f&&0===b.length&&e("div",{className:"text-center py-12",children:[a("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No jobs found"}),a("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter to find what you're looking for."}),a(Button,{variant:"outline",onClick:F,className:"mt-4",children:"Clear all filters"})]}),!v&&!f&&b.length>0&&e("div",{className:"space-y-4",children:[b.map(e=>a(o,{job:e,onSave:I,onApply:P,isSaved:!1},e.id)),w>1&&a("div",{className:"mt-8 flex justify-center",children:a(i,{currentPage:j,totalPages:w,onPageChange:e=>{C(a=>({...a,page:e})),window.scrollTo(0,0)}})})]})]}),a("div",{className:"lg:w-1/3",children:e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 sticky top-4",children:[a("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Job Alerts"}),a("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Get notified when new jobs match your search criteria."}),a(Button,{variant:"primary",className:"w-full",children:"Create Job Alert"}),e("div",{className:"mt-8",children:[a("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Save Your Search"}),a("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Save this search to get notified when new jobs are posted."}),a(Button,{variant:"outline",className:"w-full",children:"Save Search"})]})]})})]})]})};export{p as default};
//# sourceMappingURL=JobListPage-B1hoGaoF.js.map
