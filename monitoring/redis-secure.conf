# Secure Redis Configuration Template
# Save this file as redis.conf and update the paths and settings as needed

# Network
bind 127.0.0.1  # Only listen on localhost for security
protected-mode yes
port 6379

tcp-backlog 511
timeout 0
tcp-keepalive 300

# Security
requirepass your_secure_password_here  # Change this to a strong password
rename-command CONFIG ""  # Disable CONFIG command for security
rename-command FLUSHDB ""
rename-command FLUSHALL ""

# Memory Management
maxmemory 1gb  # Adjust based on your server's available memory
maxmemory-policy allkeys-lru  # Or another eviction policy that fits your needs
maxmemory-samples 5

# Persistence
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb
aof-load-truncated yes

# Logging
loglevel notice
logfile ""  # Set to a file path if you want Redis to log to a file

# Client timeouts
timeout 300  # Close connections after 5 minutes of inactivity

dir ./  # Directory where the database will be stored
