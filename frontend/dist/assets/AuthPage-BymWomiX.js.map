{"version":3,"file":"AuthPage-BymWomiX.js","sources":["../../src/services/api.ts","../../src/pages/AuthPage.tsx"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8000/api'\n\nclass ApiService {\n  baseUrl = API_BASE_URL\n  \n  getAuthHeaders() {\n    const token = localStorage.getItem('access_token')\n    return token ? { Authorization: `Bearer ${token}` } : {}\n  }\n\n  private async request(endpoint: string, options: RequestInit = {}) {\n    const url = `${API_BASE_URL}${endpoint}`\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeaders(),\n        ...options.headers,\n      },\n      ...options,\n    }\n\n    const response = await fetch(url, config)\n    \n    if (!response.ok) {\n      const errorData = await response.text()\n      console.error('API Error:', response.status, errorData)\n      throw new Error(`API Error: ${response.status}`)\n    }\n    \n    return response.json()\n  }\n\n  // Authentication\n  async register(userData: any) {\n    return this.request('/auth/register/', {\n      method: 'POST',\n      body: JSON.stringify(userData),\n    })\n  }\n\n  async login(credentials: any) {\n    return this.request('/auth/login/', {\n      method: 'POST',\n      body: JSON.stringify(credentials),\n    })\n  }\n\n  async getProfile() {\n    return this.request('/auth/profile/')\n  }\n\n  // Jobs\n  async getJobs(params?: any) {\n    const query = params ? `?${new URLSearchParams(params)}` : ''\n    return this.request(`/jobs/${query}`)\n  }\n\n  async getJob(id: string) {\n    return this.request(`/jobs/${id}/`)\n  }\n\n  async createJob(jobData: any) {\n    return this.request('/jobs/', {\n      method: 'POST',\n      body: JSON.stringify(jobData),\n    })\n  }\n\n  // Applications\n  async getApplications() {\n    return this.request('/applications/')\n  }\n\n  async createApplication(applicationData: any) {\n    return this.request('/applications/', {\n      method: 'POST',\n      body: JSON.stringify(applicationData),\n    })\n  }\n\n  // Companies\n  async getCompanies() {\n    return this.request('/companies/')\n  }\n\n  async getCompany(id: string) {\n    return this.request(`/companies/${id}/`)\n  }\n\n  // Profiles\n  async getUserProfile() {\n    return this.request('/profiles/')\n  }\n\n  async updateProfile(profileData: any) {\n    return this.request('/profiles/', {\n      method: 'PATCH',\n      body: JSON.stringify(profileData),\n    })\n  }\n}\n\nexport const apiService = new ApiService()","import { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { useNavigate } from 'react-router-dom'\nimport GlassPanel from '@/components/ui/GlassPanel'\nimport Button from '@/components/ui/Button'\nimport { Logo } from '@/components/common'\nimport { useAuthStore } from '@/stores/authStore'\nimport { apiService } from '@/services/api'\n\nexport default function AuthPage() {\n  const [isLogin, setIsLogin] = useState(true)\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const navigate = useNavigate()\n  const login = useAuthStore(state => state.login)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    \n    try {\n      if (isLogin) {\n        const response = await apiService.login({ email, password })\n        localStorage.setItem('access_token', response.tokens.access)\n        localStorage.setItem('refresh_token', response.tokens.refresh)\n        login(response.user)\n      } else {\n        const response = await apiService.register({\n          email,\n          password,\n          first_name: name.split(' ')[0] || '',\n          last_name: name.split(' ').slice(1).join(' ') || ''\n        })\n        localStorage.setItem('access_token', response.tokens.access)\n        localStorage.setItem('refresh_token', response.tokens.refresh)\n        login(response.user)\n      }\n      navigate('/app/dashboard')\n    } catch (error) {\n      console.error('Auth error:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-6\">\n      <motion.div\n        className=\"w-full max-w-md\"\n        initial={{ opacity: 0, scale: 0.95 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ duration: 0.3 }}\n      >\n        <GlassPanel>\n          <div className=\"text-center mb-8\">\n            <div className=\"flex justify-center mb-6\">\n              <Logo size=\"lg\" />\n            </div>\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n              {isLogin ? 'Welcome Back' : 'Join CareerOpen'}\n            </h1>\n            <p className=\"text-gray-600\">\n              {isLogin ? 'Sign in to your account' : 'Create your professional profile'}\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {!isLogin && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Full Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"w-full px-4 py-3 rounded-xl glass-button border-0 focus:ring-2 focus:ring-ocean-400\"\n                  placeholder=\"Enter your full name\"\n                  required={!isLogin}\n                />\n              </div>\n            )}\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 rounded-xl glass-button border-0 focus:ring-2 focus:ring-ocean-400\"\n                placeholder=\"Enter your email\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 rounded-xl glass-button border-0 focus:ring-2 focus:ring-ocean-400\"\n                placeholder=\"Enter your password\"\n                required\n              />\n            </div>\n\n            <Button type=\"submit\" className=\"w-full\" size=\"lg\" disabled={loading}>\n              {loading ? 'Loading...' : (isLogin ? 'Sign In' : 'Create Account')}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => setIsLogin(!isLogin)}\n              className=\"text-ocean-600 hover:text-ocean-700 font-medium\"\n            >\n              {isLogin ? \"Don't have an account? Sign up\" : 'Already have an account? Sign in'}\n            </button>\n          </div>\n        </GlassPanel>\n      </motion.div>\n    </div>\n  )\n}"],"names":["API_BASE_URL","ApiService","__publicField","token","endpoint","options","url","config","response","errorData","userData","credentials","params","query","id","jobData","applicationData","profileData","apiService","AuthPage","isLogin","setIsLogin","useState","email","setEmail","password","setPassword","name","setName","loading","setLoading","navigate","useNavigate","login","useAuthStore","state","handleSubmit","e","error","jsx","motion","GlassPanel","jsxs","Logo","Button"],"mappings":"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"}